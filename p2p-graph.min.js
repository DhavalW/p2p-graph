(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,t.P2PGraph=e()}})(function(){var e=Math.abs,t=Math.min,o=Math.max,s=Math.round,d;return function(){function l(s,e,n){function t(o,i){if(!e[o]){if(!s[o]){var d="function"==typeof require&&require;if(!i&&d)return d(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var a=e[o]={exports:{}};s[o][0].call(a.exports,function(e){var i=s[o][1][e];return t(i||e)},a,a.exports,l,s,e,n)}return e[o].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)t(n[a]);return t}return l}()({1:[function(n,i){!function(){var Qa=Math.SQRT2,er=Math.floor,tr=Math.LN2,nr=Math.tan,ir=Math.PI,lr=Math.atan,ar=Math.ceil,rr=Math.LN10,or=Math.log,sr=Math.pow,pr=Math.sqrt,cr=Math.atan2,gr=Math.cos,ur=Math.sin,hr=Math.exp,yr=Math.asin,mr=Math.acos;function n(e){return e&&(e.ownerDocument||e.document||e).documentElement}function l(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function p(e){return null===e?NaN:+e}function c(e){return!isNaN(e)}function g(e){return{left:function(t,n,i,l){for(3>arguments.length&&(i=0),4>arguments.length&&(l=t.length);i<l;){var a=i+l>>>1;0>e(t[a],n)?i=a+1:l=a}return i},right:function(t,n,i,l){for(3>arguments.length&&(i=0),4>arguments.length&&(l=t.length);i<l;){var a=i+l>>>1;0<e(t[a],n)?l=a:i=a+1}return i}}}function u(e){return e.length}function h(e){for(var t=1;e*t%1;)t*=10;return t}function y(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function _(){this._=Object.create(null)}function v(e){return"__proto__"===(e+="")||"\0"===e[0]?"\0"+e:e}function b(e){return"\0"===(e+="")[0]?e.slice(1):e}function C(e){return v(e)in this._}function k(e){return(e=v(e))in this._&&delete this._[e]}function w(){var e=[];for(var t in this._)e.push(b(t));return e}function S(){var e=0;for(var t in this._)++e;return e}function E(){for(var e in this._)return!1;return!0}function L(){this._=Object.create(null)}function A(e){return e}function z(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function j(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var l=0,a=kr.length,n;l<a;++l)if(n=kr[l]+t,n in e)return n}function F(){}function M(){}function T(e){function t(){for(var t=a,r=-1,o=t.length,n;++r<o;)(n=t[r].on)&&n.apply(this,arguments);return e}var a=[],r=new _;return t.on=function(t,n){var o=r.get(t),l;return 2>arguments.length?o&&o.on:(o&&(o.on=null,a=a.slice(0,l=a.indexOf(o)).concat(a.slice(l+1)),r.remove(t)),n&&a.push(r.set(t,{on:n})),e)},t}function N(){fr.event.preventDefault()}function R(){for(var t=fr.event,n;n=t.sourceEvent;)t=n;return t}function P(e){for(var t=new M,l=0,a=arguments.length;++l<a;)t[arguments[l]]=T(t);return t.of=function(n,i){return function(l){try{var a=l.sourceEvent=fr.event;l.target=e,fr.event=l,t[l.type].apply(n,i)}finally{fr.event=a}}},t}function U(e){return Sr(e,zr),e}function D(e){return"function"==typeof e?e:function(){return Er(e,this)}}function O(e){return"function"==typeof e?e:function(){return Lr(e,this)}}function I(e,t){function n(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function l(){this.setAttribute(e,t)}function a(){this.setAttributeNS(e.space,e.local,t)}function r(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=fr.ns.qualify(e),null==t?e.local?i:n:"function"==typeof t?e.local?o:r:e.local?a:l}function q(e){return e.trim().replace(/\s+/g," ")}function H(e){return new RegExp("(?:^|\\s+)"+fr.requote(e)+"(?:\\s+|$)","g")}function Y(e){return(e+"").trim().split(/^|\s+/)}function Z(e,t){function i(){for(var n=-1;++n<a;)e[n](this,t)}function l(){for(var n=-1,l=t.apply(this,arguments);++n<a;)e[n](this,l)}e=Y(e).map(V);var a=e.length;return"function"==typeof t?l:i}function V(e){var t=H(e);return function(n,i){if(l=n.classList)return i?l.add(e):l.remove(e);var l=n.getAttribute("class")||"";i?(t.lastIndex=0,!t.test(l)&&n.setAttribute("class",q(l+" "+e))):n.setAttribute("class",q(l.replace(t," ")))}}function B(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}:function(){this.style.setProperty(e,t,n)}}function X(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function W(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===n&&"http://www.w3.org/1999/xhtml"===t.documentElement.namespaceURI?t.createElement(e):t.createElementNS(n,e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=fr.ns.qualify(e)).local?n:t}function $(){var e=this.parentNode;e&&e.removeChild(this)}function G(e){return{__data__:e}}function J(e){return function(){return Ar(this,e)}}function K(e){return arguments.length||(e=r),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function Q(e,t){for(var l=0,a=e.length;l<a;l++)for(var r=e[l],o=0,s=r.length,n;o<s;o++)(n=r[o])&&t(n,o,l);return e}function ee(e){return Sr(e,Fr),e}function te(e){var t,l;return function(a,r,i){var o=e[i].update,s=o.length,n;for(i!=l&&(l=i,t=0),r>=t&&(t=r+1);!(n=o[t])&&++t<s;);return n}}function ne(e,t,n){function a(){var t=this[s];t&&(this.removeEventListener(e,t,t.$),delete this[s])}function r(){var r=i(t,m(arguments));a.call(this),this.addEventListener(e,this[s]=r,r.$=n),r._=t}function o(){var t=new RegExp("^__on([^.]+)"+fr.requote(e)+"$"),n;for(var i in this)if(n=i.match(t)){var a=this[i];this.removeEventListener(n[1],a,a.$),delete this[i]}}var s="__on"+e,d=e.indexOf("."),i=ie;0<d&&(e=e.slice(0,d));var l=Mr.get(e);return l&&(e=l,i=le),d?t?r:a:t?F:o}function ie(e,t){return function(n){var i=fr.event;fr.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{fr.event=i}}}function le(e,t){var n=ie(e,t);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function ae(e){var t=".dragsuppress-"+ ++Tr,i="click"+t,a=fr.select(l(e)).on("touchmove"+t,N).on("dragstart"+t,N).on("selectstart"+t,N);if(null==Nr&&(Nr=!("onselectstart"in e)&&j(e.style,"userSelect")),Nr){var r=n(e).style,o=r[Nr];r[Nr]="none"}return function(e){if(a.on(t,null),Nr&&(r[Nr]=o),e){var n=function(){a.on(i,null)};a.on(i,function(){N(),n()},!0),setTimeout(n,0)}}}function re(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var a=i.createSVGPoint();if(0>Rr){var r=l(t);if(r.scrollX||r.scrollY){i=fr.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=i[0][0].getScreenCTM();Rr=!(o.f||o.e),i.remove()}}return Rr?(a.x=n.pageX,a.y=n.pageY):(a.x=n.clientX,a.y=n.clientY),a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function oe(){return fr.event.changedTouches[0].identifier}function se(e){return 0<e?1:0>e?-1:0}function de(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function pe(e){return 1<e?0:-1>e?Dr:mr(e)}function ce(e){return 1<e?Ir:-1>e?-Ir:yr(e)}function ge(e){return((e=hr(e))-1/e)/2}function ue(e){return((e=hr(e))+1/e)/2}function he(e){return((e=hr(2*e))-1)/(e+1)}function ye(e){return(e=ur(e/2))*e}function me(){}function fe(e,t,n){return this instanceof fe?void(this.h=+e,this.s=+t,this.l=+n):2>arguments.length?e instanceof fe?new fe(e.h,e.s,e.l):Fe(""+e,Me,fe):new fe(e,t,n)}function xe(e,t,n){function i(e){return 360<e?e-=360:0>e&&(e+=360),60>e?r+(o-r)*e/60:180>e?o:240>e?r+(o-r)*(240-e)/60:r}function a(e){return s(255*i(e))}var r,o;return e=isNaN(e)?0:0>(e%=360)?e+360:e,t=isNaN(t)?0:0>t?0:1<t?1:t,n=0>n?0:1<n?1:n,o=.5>=n?n*(1+t):n+t-n*t,r=2*n-o,new Le(a(e+120),a(e),a(e-120))}function _e(e,t,n){return this instanceof _e?void(this.h=+e,this.c=+t,this.l=+n):2>arguments.length?e instanceof _e?new _e(e.h,e.c,e.l):e instanceof be?ke(e.l,e.a,e.b):ke((e=Te((e=fr.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new _e(e,t,n)}function ve(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new be(n,gr(e*=qr)*t,ur(e)*t)}function be(e,t,n){return this instanceof be?void(this.l=+e,this.a=+t,this.b=+n):2>arguments.length?e instanceof be?new be(e.l,e.a,e.b):e instanceof _e?ve(e.h,e.c,e.l):Te((e=Le(e)).r,e.g,e.b):new be(e,t,n)}function Ce(e,t,n){var i=(e+16)/116,l=i+t/500,a=i-n/200;return l=we(l)*Kr,i=1*we(i),a=we(a)*Qr,new Le(Ee(3.2404542*l-1.5371385*i-.4985314*a),Ee(-.969266*l+1.8760108*i+.041556*a),Ee(.0556434*l-.2040259*i+1.0572252*a))}function ke(e,t,n){return 0<e?new _e(cr(n,t)*Hr,pr(t*t+n*n),e):new _e(NaN,NaN,e)}function we(e){return .206893034<e?e*e*e:(e-4/29)/7.787037}function Se(e){return .008856<e?sr(e,1/3):7.787037*e+4/29}function Ee(e){return s(255*(.00304>=e?12.92*e:1.055*sr(e,1/2.4)-.055))}function Le(e,t,n){return this instanceof Le?void(this.r=~~e,this.g=~~t,this.b=~~n):2>arguments.length?e instanceof Le?new Le(e.r,e.g,e.b):Fe(""+e,Le,xe):new Le(e,t,n)}function Ae(e){return new Le(e>>16,255&e>>8,255&e)}function ze(e){return Ae(e)+""}function je(e){return 16>e?"0"+o(0,e).toString(16):t(255,e).toString(16)}function Fe(e,t,n){var i=0,l=0,a=0,o,s,d;if(o=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()),o)switch(s=o[2].split(","),o[1]){case"hsl":return n(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100);case"rgb":return t(Re(s[0]),Re(s[1]),Re(s[2]));}return(d=no.get(e))?t(d.r,d.g,d.b):(null==e||"#"!==e.charAt(0)||isNaN(d=parseInt(e.slice(1),16))||(4===e.length?(i=(3840&d)>>4,i=i>>4|i,l=240&d,l=l>>4|l,a=15&d,a=a<<4|a):7===e.length&&(i=(16711680&d)>>16,l=(65280&d)>>8,a=255&d)),t(i,l,a))}function Me(e,n,i){var a=t(e/=255,n/=255,i/=255),p=o(e,n,i),c=p-a,d=(p+a)/2,l,u;return c?(u=.5>d?c/(p+a):c/(2-p-a),l=e==p?(n-i)/c+(n<i?6:0):n==p?(i-e)/c+2:(e-n)/c+4,l*=60):(l=NaN,u=0<d&&1>d?0:l),new fe(l,u,d)}function Te(e,t,n){e=Ne(e),t=Ne(t),n=Ne(n);var i=Se((.4124564*e+.3575761*t+.1804375*n)/Kr),l=Se((.2126729*e+.7151522*t+.072175*n)/1),a=Se((.0193339*e+.119192*t+.9503041*n)/Qr);return be(116*l-16,500*(i-l),200*(l-a))}function Ne(e){return .04045>=(e/=255)?e/12.92:sr((e+.055)/1.055,2.4)}function Re(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?s(2.55*t):t}function Pe(e){return"function"==typeof e?e:function(){return e}}function Ue(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),De(t,n,e,i)}}function De(e,t,n,i){function l(){var e=s.status,t;if(!e&&Ie(s)||200<=e&&300>e||304===e){try{t=n.call(a,s)}catch(t){return void r.error.call(a,t)}r.load.call(a,t)}else r.error.call(a,s)}var a={},r=fr.dispatch("beforesend","progress","load","error"),o={},s=new XMLHttpRequest,d=null;return this.XDomainRequest&&!("withCredentials"in s)&&/^(http(s)?:)?\/\//.test(e)&&(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=l:s.onreadystatechange=function(){3<s.readyState&&l()},s.onprogress=function(e){var t=fr.event;fr.event=e;try{r.progress.call(a,s)}finally{fr.event=t}},a.header=function(e,t){return(e=(e+"").toLowerCase(),2>arguments.length)?o[e]:(null==t?delete o[e]:o[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",a):t},a.responseType=function(e){return arguments.length?(d=e,a):d},a.response=function(e){return n=e,a},["get","post"].forEach(function(e){a[e]=function(){return a.send.apply(a,[e].concat(m(arguments)))}}),a.send=function(n,i,l){if(2===arguments.length&&"function"==typeof i&&(l=i,i=null),s.open(n,e,!0),null==t||"accept"in o||(o.accept=t+",*/*"),s.setRequestHeader)for(var p in o)s.setRequestHeader(p,o[p]);return null!=t&&s.overrideMimeType&&s.overrideMimeType(t),null!=d&&(s.responseType=d),null!=l&&a.on("error",l).on("load",function(e){l(null,e)}),r.beforesend.call(a,s),s.send(null==i?null:i),a},a.abort=function(){return s.abort(),a},fr.rebind(a,r,"on"),null==i?a:a.get(Oe(i))}function Oe(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Ie(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function qe(e,t,i){var l=arguments.length;2>l&&(t=0),3>l&&(i=Date.now());var n=i+t,a={c:e,t:n,n:null};return ao?ao.n=a:lo=a,ao=a,ro||(oo=clearTimeout(oo),ro=1,io(He)),a}function He(){var e=Ye(),t=Ze()-e;24<t?(isFinite(t)&&(clearTimeout(oo),oo=setTimeout(He,t)),ro=0):(ro=1,io(He))}function Ye(){for(var e=Date.now(),t=lo;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Ze(){for(var e=lo,t=1/0,n;e;)e.c?(e.t<t&&(t=e.t),e=(n=e).n):e=n?n.n=e.n:lo=e.n;return ao=n,t}function Ve(e,t){return t-(e?ar(or(e)/rr):1)}function Be(e){var n=e.decimal,l=e.thousands,a=e.grouping,r=e.currency,s=a&&l?function(e,n){for(var r=e.length,s=[],t=0,d=a[0],p=0;0<r&&0<d&&(p+d+1>n&&(d=o(1,n-p)),s.push(e.substring(r-=d,r+d)),!((p+=d+1)>n));)d=a[t=(t+1)%a.length];return s.reverse().join(l)}:A;return function(e){var i=po.exec(e),l=i[1]||" ",a=i[2]||">",d=i[3]||"-",p=i[4]||"",c=i[5],g=+i[6],u=i[7],h=i[8],y=i[9],m=1,f="",x="",_=!1,v=!0;switch(h&&(h=+h.substring(1)),(c||"0"===l&&"="===a)&&(c=l="0",a="="),y){case"n":u=!0,y="g";break;case"%":m=100,x="%",y="f";break;case"p":m=100,x="%",y="r";break;case"b":case"o":case"x":case"X":"#"===p&&(f="0"+y.toLowerCase());case"c":v=!1;case"d":_=!0,h=0;break;case"s":m=-1,y="r";}"$"===p&&(f=r[0],x=r[1]),"r"!=y||h||(y="g"),null!=h&&("g"==y?h=o(1,t(21,h)):("e"==y||"f"==y)&&(h=o(0,t(20,h)))),y=co.get(y)||Xe;var b=c&&u;return function(e){var t=x;if(_&&e%1)return"";var r=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===d?"":d;if(0>m){var o=fr.formatPrefix(e,h);e=o.scale(e),t=o.symbol+x}else e*=m;e=y(e,h);var p=e.lastIndexOf("."),i,C;if(0>p){var k=v?e.lastIndexOf("e"):-1;0>k?(i=e,C=""):(i=e.substring(0,k),C=e.substring(k))}else i=e.substring(0,p),C=n+e.substring(p+1);!c&&u&&(i=s(i,1/0));var w=f.length+i.length+C.length+(b?0:r.length),S=w<g?Array(w=g-w+1).join(l):"";return b&&(i=s(S+i,S.length?g-C.length:1/0)),r+=f,e=i+C,("<"===a?r+e+S:">"===a?S+r+e:"^"===a?S.substring(0,w>>=1)+r+e+S.substring(w):r+(b?e:S+e))+t}}}function Xe(e){return e+""}function We(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function $e(e,t,n){function i(t){var n=e(t),i=a(n,1);return t-n<i-t?n:i}function l(n){return t(n=e(new uo(n-1)),1),n}function a(e,n){return t(e=new uo(+e),n),e}function r(e,i,a){var r=l(e),o=[];if(1<a)for(;r<i;)n(r)%a||o.push(new Date(+r)),t(r,1);else for(;r<i;)o.push(new Date(+r)),t(r,1);return o}e.floor=e,e.round=i,e.ceil=l,e.offset=a,e.range=r;var o=e.utc=Ge(e);return o.floor=o,o.round=Ge(i),o.ceil=Ge(l),o.offset=Ge(a),o.range=function(e,t,n){try{uo=We;var i=new We;return i._=e,r(i,t,n)}finally{uo=Date}},e}function Ge(e){return function(t,n){try{uo=We;var i=new We;return i._=t,e(i,n)._}finally{uo=Date}}}function Je(e){function t(e){function t(t){for(var n=[],a=-1,r=0,o,s,d;++a<l;)37===e.charCodeAt(a)&&(n.push(e.slice(r,a)),null!=(s=yo[o=e.charAt(++a)])&&(o=e.charAt(++a)),(d=b[o])&&(o=d(t,null==s?"e"===o?" ":"0":s)),n.push(o),r=a+1);return n.push(e.slice(r,a)),n.join("")}var l=e.length;return t.parse=function(t){var l={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},a=n(l,e,t,0);if(a!=t.length)return null;"p"in l&&(l.H=l.H%12+12*l.p);var i=null!=l.Z&&uo!==We,r=new(i?We:uo);return"j"in l?r.setFullYear(l.y,0,l.j):"W"in l||"U"in l?(!("w"in l)&&(l.w="W"in l?1:0),r.setFullYear(l.y,0,1),r.setFullYear(l.y,0,"W"in l?(l.w+6)%7+7*l.W-(r.getDay()+5)%7:l.w+7*l.U-(r.getDay()+6)%7)):r.setFullYear(l.y,l.m,l.d),r.setHours(l.H+(0|l.Z/100),l.M+l.Z%100,l.S,l.L),i?r._:r},t.toString=function(){return e},t}function n(e,l,a,r){for(var o=0,s=l.length,n=a.length,d,g,u;o<s;){if(r>=n)return-1;if(d=l.charCodeAt(o++),37===d){if(u=l.charAt(o++),g=C[u in yo?l.charAt(o++):u],!g||0>(r=g(e,a,r)))return-1;}else if(d!=a.charCodeAt(r++))return-1}return r}var i=e.dateTime,l=e.date,a=e.time,r=e.periods,o=e.days,s=e.shortDays,p=e.months,c=e.shortMonths;t.utc=function(e){function n(e){try{uo=We;var t=new uo;return t._=e,i(t)}finally{uo=Date}}var i=t(e);return n.parse=function(e){try{uo=We;var t=i.parse(e);return t&&t._}finally{uo=Date}},n.toString=i.toString,n},t.multi=t.utc.multi=ft;var g=fr.map(),u=Qe(o),h=et(o),y=Qe(s),m=et(s),f=Qe(p),x=et(p),_=Qe(c),v=et(c);r.forEach(function(e,t){g.set(e.toLowerCase(),t)});var b={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return p[e.getMonth()]},c:t(i),d:function(e,t){return Ke(e.getDate(),t,2)},e:function(e,t){return Ke(e.getDate(),t,2)},H:function(e,t){return Ke(e.getHours(),t,2)},I:function(e,t){return Ke(e.getHours()%12||12,t,2)},j:function(e,t){return Ke(1+go.dayOfYear(e),t,3)},L:function(e,t){return Ke(e.getMilliseconds(),t,3)},m:function(e,t){return Ke(e.getMonth()+1,t,2)},M:function(e,t){return Ke(e.getMinutes(),t,2)},p:function(e){return r[+(12<=e.getHours())]},S:function(e,t){return Ke(e.getSeconds(),t,2)},U:function(e,t){return Ke(go.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ke(go.mondayOfYear(e),t,2)},x:t(l),X:t(a),y:function(e,t){return Ke(e.getFullYear()%100,t,2)},Y:function(e,t){return Ke(e.getFullYear()%1e4,t,4)},Z:yt,"%":function(){return"%"}},C={a:function(e,t,l){y.lastIndex=0;var i=y.exec(t.slice(l));return i?(e.w=m.get(i[0].toLowerCase()),l+i[0].length):-1},A:function(e,t,l){u.lastIndex=0;var i=u.exec(t.slice(l));return i?(e.w=h.get(i[0].toLowerCase()),l+i[0].length):-1},b:function(e,t,l){_.lastIndex=0;var i=_.exec(t.slice(l));return i?(e.m=v.get(i[0].toLowerCase()),l+i[0].length):-1},B:function(e,t,l){f.lastIndex=0;var i=f.exec(t.slice(l));return i?(e.m=x.get(i[0].toLowerCase()),l+i[0].length):-1},c:function(e,t,l){return n(e,b.c.toString(),t,l)},d:dt,e:dt,H:ct,I:ct,j:pt,L:ht,m:st,M:gt,p:function(e,t,l){var a=g.get(t.slice(l,l+=2).toLowerCase());return null==a?-1:(e.p=a,l)},S:ut,U:nt,w:tt,W:it,x:function(e,t,l){return n(e,b.x.toString(),t,l)},X:function(e,t,l){return n(e,b.X.toString(),t,l)},y:at,Y:lt,Z:rt,"%":mt};return t}function Ke(e,t,n){var i=0>e?"-":"",l=(i?-e:e)+"",a=l.length;return i+(a<n?Array(n-a+1).join(t)+l:l)}function Qe(e){return new RegExp("^(?:"+e.map(fr.requote).join("|")+")","i")}function et(e){for(var t=new _,l=-1,a=e.length;++l<a;)t.set(e[l].toLowerCase(),l);return t}function tt(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l,l+1));return i?(e.w=+i[0],l+i[0].length):-1}function nt(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l));return i?(e.U=+i[0],l+i[0].length):-1}function it(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l));return i?(e.W=+i[0],l+i[0].length):-1}function lt(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l,l+4));return i?(e.y=+i[0],l+i[0].length):-1}function at(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l,l+2));return i?(e.y=ot(+i[0]),l+i[0].length):-1}function rt(e,t,n){return /^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function ot(e){return e+(68<e?1900:2e3)}function st(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l,l+2));return i?(e.m=i[0]-1,l+i[0].length):-1}function dt(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l,l+2));return i?(e.d=+i[0],l+i[0].length):-1}function pt(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l,l+3));return i?(e.j=+i[0],l+i[0].length):-1}function ct(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l,l+2));return i?(e.H=+i[0],l+i[0].length):-1}function gt(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l,l+2));return i?(e.M=+i[0],l+i[0].length):-1}function ut(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l,l+2));return i?(e.S=+i[0],l+i[0].length):-1}function ht(e,t,l){mo.lastIndex=0;var i=mo.exec(t.slice(l,l+3));return i?(e.L=+i[0],l+i[0].length):-1}function yt(e){var t=e.getTimezoneOffset(),n=0<t?"-":"+",i=0|Cr(t)/60,l=Cr(t)%60;return n+Ke(i,"0",2)+Ke(l,"0",2)}function mt(e,t,l){fo.lastIndex=0;var i=fo.exec(t.slice(l,l+1));return i?l+i[0].length:-1}function ft(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,l=e[n];!l[1](t);)l=e[++n];return l[0](t)}}function xt(){}function _t(e,t,n){var i=n.s=e+t,l=i-e;n.t=e-(i-l)+(t-l)}function vt(e,t){e&&bo.hasOwnProperty(e.type)&&bo[e.type](e,t)}function bt(e,t,l){var a=-1,r=e.length-l,n;for(t.lineStart();++a<r;)n=e[a],t.point(n[0],n[1],n[2]);t.lineEnd()}function Ct(e,t){var l=-1,a=e.length;for(t.polygonStart();++l<a;)bt(e[l],t,1);t.polygonEnd()}function kt(){function e(e,t){e*=qr,t=t*qr/2+Dr/4;var n=e-i,r=0<=n?1:-1,o=r*n,s=gr(t),d=ur(t),p=a*d,c=l*s+p*gr(o),g=p*r*ur(o);Co.add(cr(g,c)),i=e,l=s,a=d}var t,n,i,l,a;ko.point=function(r,o){ko.point=e,i=(t=r)*qr,l=gr(o=(n=o)*qr/2+Dr/4),a=ur(o)},ko.lineEnd=function(){e(t,n)}}function wt(e){var t=e[0],n=e[1],i=gr(n);return[i*gr(t),i*ur(t),ur(n)]}function St(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Et(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Lt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function At(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function zt(e){var t=pr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function jt(e){return[cr(e[1],e[0]),ce(e[2])]}function Ft(e,t){return Cr(e[0]-t[0])<Pr&&Cr(e[1]-t[1])<Pr}function Mt(e,t){e*=qr;var n=gr(t*=qr);Tt(n*gr(e),n*ur(e),ur(t))}function Tt(e,t,n){++Lo,zo+=(e-zo)/Lo,jo+=(t-jo)/Lo,Fo+=(n-Fo)/Lo}function Nt(){function e(e,l){e*=qr;var a=gr(l*=qr),r=a*gr(e),o=a*ur(e),s=ur(l),d=cr(pr((d=n*s-i*o)*d+(d=i*r-t*s)*d+(d=t*o-n*r)*d),t*r+n*o+i*s);Ao+=d,Mo+=d*(t+(t=r)),To+=d*(n+(n=o)),No+=d*(i+(i=s)),Tt(t,n,i)}var t,n,i;So.point=function(l,a){l*=qr;var r=gr(a*=qr);t=r*gr(l),n=r*ur(l),i=ur(a),So.point=e,Tt(t,n,i)}}function Rt(){So.point=Mt}function Pt(){function e(e,t){e*=qr;var n=gr(t*=qr),r=n*gr(e),o=n*ur(e),s=ur(t),d=l*s-a*o,p=a*r-i*s,c=i*o-l*r,g=pr(d*d+p*p+c*c),h=i*r+l*o+a*s,u=g&&-pe(h)/g,y=cr(g,h);Ro+=u*d,Po+=u*p,Uo+=u*c,Ao+=y,Mo+=y*(i+(i=r)),To+=y*(l+(l=o)),No+=y*(a+(a=s)),Tt(i,l,a)}var t,n,i,l,a;So.point=function(r,o){t=r,n=o,So.point=e,r*=qr;var s=gr(o*=qr);i=s*gr(r),l=s*ur(r),a=ur(o),Tt(i,l,a)},So.lineEnd=function(){e(t,n),So.lineEnd=Rt,So.point=Mt}}function Ut(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),n}function Dt(){return!0}function Ot(e,t,l,a,r){var o=[],s=[];if(e.forEach(function(e){if(!(0>=(d=e.length-1))){var t=e[0],l=e[d],d;if(Ft(t,l)){r.lineStart();for(var p=0;p<d;++p)r.point((t=e[p])[0],t[1]);return void r.lineEnd()}var c=new qt(t,e,null,!0),g=new qt(t,null,c,!1);c.o=g,o.push(c),s.push(g),c=new qt(l,e,null,!1),g=new qt(l,null,c,!0),c.o=g,o.push(c),s.push(g)}}),s.sort(t),It(o),It(s),!!o.length){for(var d=0,p=l,c=s.length;d<c;++d)s[d].e=p=!p;for(var g=o[0],u,h;;){for(var y=g,m=!0;y.v;)if((y=y.n)===g)return;u=y.z,r.lineStart();do{if(y.v=y.o.v=!0,y.e){if(m)for(var d=0,c=u.length;d<c;++d)r.point((h=u[d])[0],h[1]);else a(y.x,y.n.x,1,r);y=y.n}else{if(m){u=y.p.z;for(var d=u.length-1;0<=d;--d)r.point((h=u[d])[0],h[1])}else a(y.x,y.p.x,-1,r);y=y.p}y=y.o,u=y.z,m=!m}while(!y.v);r.lineEnd()}}}function It(e){if(r=e.length){for(var t=0,l=e[0],r,o;++t<r;)l.n=o=e[t],o.p=l,l=o;l.n=o=e[0],o.p=l}}function qt(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Ht(e,t,n,i){return function(l,a){function r(t,n){var i=l(t,n);e(t=i[0],n=i[1])&&a.point(t,n)}function o(e,t){var n=l(e,t);u.point(n[0],n[1])}function s(){y.point=o,u.lineStart()}function d(){y.point=r,u.lineEnd()}function p(e,t){b.push([e,t]);var n=l(e,t);f.point(n[0],n[1])}function c(){f.lineStart(),b=[]}function g(){p(b[0][0],b[0][1]),f.lineEnd();var e=f.clean(),t=m.buffer(),l=t.length,r;if(b.pop(),v.push(b),b=null,!!l){if(1&e){r=t[0];var l=r.length-1,o=-1,s;if(0<l){for(x||(a.polygonStart(),x=!0),a.lineStart();++o<l;)a.point((s=r[o])[0],s[1]);a.lineEnd()}return}1<l&&2&e&&t.push(t.pop().concat(t.shift())),_.push(t.filter(Yt))}}var u=t(a),h=l.invert(i[0],i[1]),y={point:r,lineStart:s,lineEnd:d,polygonStart:function(){y.point=p,y.lineStart=c,y.lineEnd=g,_=[],v=[]},polygonEnd:function(){y.point=r,y.lineStart=s,y.lineEnd=d,_=fr.merge(_);var e=Xt(h,v);_.length?(!x&&(a.polygonStart(),x=!0),Ot(_,Vt,e,n,a)):e&&(!x&&(a.polygonStart(),x=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),_=v=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},m=Zt(),f=t(m),x=!1,_,v,b;return y}}function Yt(e){return 1<e.length}function Zt(){var e=[],t;return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:F,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Vt(e,t){return(0>(e=e.x)[0]?e[1]-Ir-Pr:Ir-e[1])-(0>(t=t.x)[0]?t[1]-Ir-Pr:Ir-t[1])}function Bt(e,t,n,i){var l=ur(e-n),a,r;return Cr(l)>Pr?lr((ur(t)*(r=gr(i))*ur(n)-ur(i)*(a=gr(t))*ur(e))/(a*r*l)):(t+i)/2}function Xt(e,t){var l=e[0],a=e[1],r=[ur(l),-gr(l),0],o=0,s=0;Co.reset();for(var d=0,p=t.length;d<p;++d){var n=t[d],c=n.length;if(c)for(var g=n[0],u=g[0],h=g[1]/2+Dr/4,y=ur(h),m=gr(h),f=1;;){f===c&&(f=0),e=n[f];var x=e[0],_=e[1]/2+Dr/4,v=ur(_),b=gr(_),C=x-u,w=0<=C?1:-1,S=w*C,E=S>Dr,L=y*v;if(Co.add(cr(L*w*ur(S),m*b+L*gr(S))),o+=E?C+w*Or:C,E^u>=l^x>=l){var k=Et(wt(g),wt(e));zt(k);var A=Et(r,k);zt(A);var z=(E^0<=C?-1:1)*ce(A[2]);(a>z||a===z&&(k[0]||k[1]))&&(s+=E^0<=C?1:-1)}if(!f++)break;u=x,y=v,m=b,g=e}}return(o<-Pr||o<Pr&&Co<-Pr)^1&s}function Wt(e){function n(e,t){return gr(e)*gr(t)>r}function i(e,n,i){var l=wt(e),a=wt(n),o=[1,0,0],s=Et(l,a),d=St(s,s),p=s[0],c=d-p*p;if(!c)return!i&&e;var g=Et(o,s),h=At(o,r*d/c),y=At(s,-r*p/c);Lt(h,y);var m=g,u=St(h,m),f=St(m,m),x=u*u-f*(St(h,h)-1);if(!(0>x)){var _=pr(x),t=At(m,(-u-_)/f);if(Lt(t,h),t=jt(t),!i)return t;var v=e[0],b=n[0],C=e[1],k=n[1],w;b<v&&(w=v,v=b,b=w);var S=b-v,E=Cr(S-Dr)<Pr;if(!E&&k<C&&(w=C,C=k,k=w),E||S<Pr?E?0<C+k^t[1]<(Cr(t[0]-v)<Pr?C:k):C<=t[1]&&t[1]<=k:S>Dr^(v<=t[0]&&t[0]<=b)){var L=At(m,(-u+_)/f);return Lt(L,h),[t,jt(L)]}}}function l(t,n){var i=a?e:Dr-e,l=0;return t<-i?l|=1:t>i&&(l|=2),n<-i?l|=4:n>i&&(l|=8),l}var r=gr(e),a=0<r,o=Cr(r)>Pr,s=Cn(e,6*qr);return Ht(n,function(e){var r,s,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(u,h){var y=[u,h],m=n(u,h),f=a?m?0:l(u,h):m?l(u+(0>u?Dr:-Dr),h):0,c;if(!r&&(p=d=m)&&e.lineStart(),m!==d&&(c=i(r,y),(Ft(r,c)||Ft(y,c))&&(y[0]+=Pr,y[1]+=Pr,m=n(y[0],y[1]))),m!==d)g=0,m?(e.lineStart(),c=i(y,r),e.point(c[0],c[1])):(c=i(r,y),e.point(c[0],c[1]),e.lineEnd()),r=c;else if(o&&r&&a^m){var x;!(f&s)&&(x=i(y,r,!0))&&(g=0,a?(e.lineStart(),e.point(x[0][0],x[0][1]),e.point(x[1][0],x[1][1]),e.lineEnd()):(e.point(x[1][0],x[1][1]),e.lineEnd(),e.lineStart(),e.point(x[0][0],x[0][1])))}!m||r&&Ft(r,y)||e.point(y[0],y[1]),r=y,d=m,s=f},lineEnd:function(){d&&e.lineEnd(),r=null},clean:function(){return g|(p&&d)<<1}}},s,a?[0,-e]:[-Dr,e-Dr])}function $t(e,t,n,i){return function(l){var o=l.a,a=l.b,s=o.x,d=o.y,p=a.x,c=a.y,g=0,u=1,h=p-s,y=c-d,m;if(m=e-s,h||!(0<m)){if(m/=h,0>h){if(m<g)return;m<u&&(u=m)}else if(0<h){if(m>u)return;m>g&&(g=m)}if(m=n-s,h||!(0>m)){if(m/=h,0>h){if(m>u)return;m>g&&(g=m)}else if(0<h){if(m<g)return;m<u&&(u=m)}if(m=t-d,y||!(0<m)){if(m/=y,0>y){if(m<g)return;m<u&&(u=m)}else if(0<y){if(m>u)return;m>g&&(g=m)}if(m=i-d,y||!(0>m)){if(m/=y,0>y){if(m>u)return;m>g&&(g=m)}else if(0<y){if(m<g)return;m<u&&(u=m)}return 0<g&&(l.a={x:s+g*h,y:d+g*y}),1>u&&(l.b={x:s+u*h,y:d+u*y}),l}}}}}}function Gt(e,n,i,l){function r(t,l){return Cr(t[0]-e)<Pr?0<l?0:3:Cr(t[0]-i)<Pr?0<l?2:1:Cr(t[1]-n)<Pr?0<l?1:0:0<l?3:2}function s(e,t){return d(e.x,t.x)}function d(e,t){var n=r(e,1),i=r(t,1);return n===i?0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]:n-i}return function(a){function p(e){for(var t=0,l=C.length,n=e[1],r=0;r<l;++r)for(var o=1,s=C[r],d=s.length,p=s[0],c;o<d;++o)c=s[o],p[1]<=n?c[1]>n&&0<de(p,c,e)&&++t:c[1]<=n&&0>de(p,c,e)&&--t,p=c;return 0!==t}function c(t,o,s,p){var c=0,g=0;if(null==t||(c=r(t,s))!==(g=r(o,s))||0>d(t,o)^0<s)do p.point(0===c||3===c?e:i,1<c?l:n);while((c=(c+s+4)%4)!==g);else p.point(o[0],o[1])}function g(t,a){return e<=t&&t<=i&&n<=a&&a<=l}function u(e,t){g(e,t)&&a.point(e,t)}function h(){v.point=m,C&&C.push(k=[]),j=!0,z=!1,L=A=NaN}function y(){b&&(m(w,S),E&&z&&x.rejoin(),b.push(x.buffer())),v.point=u,z&&a.lineEnd()}function m(e,n){e=o(-1000000000,t(1000000000,e)),n=o(-1000000000,t(1000000000,n));var i=g(e,n);if(C&&k.push([e,n]),j)w=e,S=n,E=i,j=!1,i&&(a.lineStart(),a.point(e,n));else if(i&&z)a.point(e,n);else{var r={a:{x:L,y:A},b:{x:e,y:n}};_(r)?(!z&&(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),!i&&a.lineEnd(),F=!1):i&&(a.lineStart(),a.point(e,n),F=!1)}L=e,A=n,z=i}var f=a,x=Zt(),_=$t(e,n,i,l),v={point:u,lineStart:h,lineEnd:y,polygonStart:function(){a=x,b=[],C=[],F=!0},polygonEnd:function(){a=f,b=fr.merge(b);var t=p([e,l]),n=F&&t,i=b.length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),c(null,null,1,a),a.lineEnd()),i&&Ot(b,s,t,c,a),a.polygonEnd()),b=C=k=null}},b,C,k,w,S,E,L,A,z,j,F;return v}}function Jt(e){var t=0,n=Dr/3,i=hn(e),l=i(t,n);return l.parallels=function(e){return arguments.length?i(t=e[0]*Dr/180,n=e[1]*Dr/180):[180*(t/Dr),180*(n/Dr)]},l}function Kt(e,t){function i(e,t){var i=pr(n-2*a*ur(t))/a;return[i*ur(e*=a),r-i*gr(e)]}var l=ur(e),a=(l+ur(t))/2,n=1+l*(2*a-l),r=pr(n)/a;return i.invert=function(e,t){var i=r-t;return[cr(e,i)/a,ce((n-(e*e+i*i)*a*a)/(2*a))]},i}function Qt(){function e(e,t){Ho+=l*e-i*t,i=e,l=t}var t,n,i,l;Do.point=function(a,r){Do.point=e,t=i=a,n=l=r},Do.lineEnd=function(){e(t,n)}}function en(e,t){e<Yo&&(Yo=e),e>Vo&&(Vo=e),t<Zo&&(Zo=t),t>Bo&&(Bo=t)}function tn(){function e(e,t){r.push("M",e,",",t,a)}function t(e,t){r.push("M",e,",",t),o.point=n}function n(e,t){r.push("L",e,",",t)}function i(){o.point=e}function l(){r.push("Z")}var a=nn(4.5),r=[],o={point:e,lineStart:function(){o.point=t},lineEnd:i,polygonStart:function(){o.lineEnd=l},polygonEnd:function(){o.lineEnd=i,o.point=e},pointRadius:function(e){return a=nn(e),o},result:function(){if(r.length){var e=r.join("");return r=[],e}}};return o}function nn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function ln(e,t){zo+=e,jo+=t,++Fo}function an(){function e(e,i){var l=e-t,a=i-n,r=pr(l*l+a*a);Mo+=r*(t+e)/2,To+=r*(n+i)/2,No+=r,ln(t=e,n=i)}var t,n;Io.point=function(i,l){Io.point=e,ln(t=i,n=l)}}function rn(){Io.point=ln}function on(){function e(e,t){var n=e-i,a=t-l,r=pr(n*n+a*a);Mo+=r*(i+e)/2,To+=r*(l+t)/2,No+=r,r=l*e-i*t,Ro+=r*(i+e),Po+=r*(l+t),Uo+=3*r,ln(i=e,l=t)}var t,n,i,l;Io.point=function(a,r){Io.point=e,ln(t=i=a,n=l=r)},Io.lineEnd=function(){e(t,n)}}function sn(e){function t(t,n){e.moveTo(t+r,n),e.arc(t,n,r,0,Or)}function n(t,n){e.moveTo(t,n),o.point=i}function i(t,n){e.lineTo(t,n)}function l(){o.point=t}function a(){e.closePath()}var r=4.5,o={point:t,lineStart:function(){o.point=n},lineEnd:l,polygonStart:function(){o.lineEnd=a},polygonEnd:function(){o.lineEnd=l,o.point=t},pointRadius:function(e){return r=e,o},result:F};return o}function dn(e){function t(e){return(s?i:n)(e)}function n(t){return gn(t,function(n,i){n=e(n,i),t.point(n[0],n[1])})}function i(t){function n(n,i){n=e(n,i),t.point(n[0],n[1])}function i(){v=NaN,c.point=a,t.lineStart()}function a(n,i){var a=wt([n,i]),r=e(n,i);l(v,b,_,C,k,w,v=r[0],b=r[1],_=n,C=a[0],k=a[1],w=a[2],s,t),t.point(v,b)}function r(){c.point=n,t.lineEnd()}function o(){i(),c.point=d,c.lineEnd=p}function d(e,t){a(g=e,u=t),h=v,y=b,m=C,f=k,x=w,c.point=a}function p(){l(v,b,_,C,k,w,h,y,g,m,f,x,s,t),c.lineEnd=r,r()}var c={point:n,lineStart:i,lineEnd:r,polygonStart:function(){t.polygonStart(),c.lineStart=o},polygonEnd:function(){t.polygonEnd(),c.lineStart=i}},g,u,h,y,m,f,x,_,v,b,C,k,w;return c}function l(t,n,i,s,d,g,u,h,y,f,x,_,v,C){var k=u-t,w=h-n,S=k*k+w*w;if(S>4*r&&v--){var E=s+f,L=d+x,A=g+_,z=pr(E*E+L*L+A*A),m=yr(A/=z),j=Cr(Cr(A)-1)<Pr||Cr(i-y)<Pr?(i+y)/2:cr(L,E),F=e(j,m),p=F[0],M=F[1],T=p-t,N=M-n,R=w*T-k*N;(R*R/S>r||.3<Cr((k*T+w*N)/S-.5)||s*f+d*x+g*_<o)&&(l(t,n,i,s,d,g,p,M,j,E/=z,L/=z,A,v,C),C.point(p,M),l(p,M,j,E,L,A,u,h,y,f,x,_,v,C))}}var r=.5,o=gr(30*qr),s=16;return t.precision=function(e){return arguments.length?(s=0<(r=e*e)&&16,t):pr(r)},t}function pn(e){var t=dn(function(t,n){return e([t*Hr,n*Hr])});return function(e){return yn(t(e))}}function cn(e){this.stream=e}function gn(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function un(e){return hn(function(){return e})()}function hn(e){function t(e){return e=w(e[0]*qr,e[1]*qr),[e[0]*r+S,_-e[1]*r]}function n(e){return e=w.invert((e[0]-S)/r,(_-e[1])/r),e&&[e[0]*Hr,e[1]*Hr]}function i(){w=Ut(C=xn(c,g,u),b);var e=b(d,p);return S=o-e[0]*r,_=s+e[1]*r,l()}function l(){return E&&(E.valid=!1,E=null),t}var a=dn(function(e,t){return e=b(e,t),[e[0]*r+S,_-e[1]*r]}),r=150,o=480,s=250,d=0,p=0,c=0,g=0,u=0,h=Eo,m=A,f=null,v=null,b,C,w,S,_,E;return t.stream=function(e){return E&&(E.valid=!1),E=yn(h(C,a(m(e)))),E.valid=!0,E},t.clipAngle=function(e){return arguments.length?(h=null==e?(f=e,Eo):Wt((f=+e)*qr),l()):f},t.clipExtent=function(e){return arguments.length?(v=e,m=e?Gt(e[0][0],e[0][1],e[1][0],e[1][1]):A,l()):v},t.scale=function(e){return arguments.length?(r=+e,i()):r},t.translate=function(e){return arguments.length?(o=+e[0],s=+e[1],i()):[o,s]},t.center=function(e){return arguments.length?(d=e[0]%360*qr,p=e[1]%360*qr,i()):[d*Hr,p*Hr]},t.rotate=function(e){return arguments.length?(c=e[0]%360*qr,g=e[1]%360*qr,u=2<e.length?e[2]%360*qr:0,i()):[c*Hr,g*Hr,u*Hr]},fr.rebind(t,a,"precision"),function(){return b=e.apply(this,arguments),t.invert=b.invert&&n,i()}}function yn(e){return gn(e,function(t,n){e.point(t*qr,n*qr)})}function mn(e,t){return[e,t]}function fn(e,t){return[e>Dr?e-Or:e<-Dr?e+Or:e,t]}function xn(e,t,n){return e?t||n?Ut(vn(e),bn(t,n)):vn(e):t||n?bn(t,n):fn}function _n(e){return function(t,n){return t+=e,[t>Dr?t-Or:t<-Dr?t+Or:t,n]}}function vn(e){var t=_n(e);return t.invert=_n(-e),t}function bn(e,t){function n(e,t){var n=gr(t),o=gr(e)*n,s=ur(e)*n,d=ur(t),p=d*i+o*l;return[cr(s*a-p*r,o*i-d*l),ce(p*a+s*r)]}var i=gr(e),l=ur(e),a=gr(t),r=ur(t);return n.invert=function(e,t){var n=gr(t),o=gr(e)*n,s=ur(e)*n,d=ur(t),p=d*a-s*r;return[cr(s*a+d*r,o*i+p*l),ce(p*i-o*l)]},n}function Cn(e,n){var i=gr(e),l=ur(e);return function(a,r,o,s){var d=o*n;null==a?(a=e+o*Or,r=e-.5*d):(a=kn(i,a),r=kn(i,r),(0<o?a<r:a>r)&&(a+=o*Or));for(var p=a,c;0<o?p>r:p<r;p-=d)s.point((c=jt([i,-l*gr(p),-l*ur(p)]))[0],c[1])}}function kn(e,t){var n=wt(t);n[0]-=e,zt(n);var i=pe(-n[1]);return((0>-n[2]?-i:i)+2*ir-Pr)%(2*ir)}function wn(e,t,n){var i=fr.range(e,t-Pr,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function Sn(e,t,n){var i=fr.range(e,t-Pr,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function En(e){return e.source}function Ln(e){return e.target}function An(e,t,n,i){var l=gr(t),a=ur(t),r=gr(i),o=ur(i),s=l*gr(e),p=l*ur(e),c=r*gr(n),g=r*ur(n),u=2*yr(pr(ye(i-t)+l*r*ye(n-e))),d=1/ur(u),h=u?function(e){var n=ur(e*=u)*d,i=ur(u-e)*d,l=i*s+n*c,r=i*p+n*g;return[cr(r,l)*Hr,cr(i*a+n*o,pr(l*l+r*r))*Hr]}:function(){return[e*Hr,t*Hr]};return h.distance=u,h}function zn(e,t){function n(t,n){var i=gr(t),l=gr(n),a=e(i*l);return[a*l*ur(t),a*ur(n)]}return n.invert=function(e,n){var i=pr(e*e+n*n),l=t(i),a=ur(l),r=gr(l);return[cr(e*a,i*r),yr(i&&n*a/i)]},n}function jn(e,i){function l(e,i){0<n?i<-Ir+Pr&&(i=-Ir+Pr):i>Ir-Pr&&(i=Ir-Pr);var l=n/sr(r(i),t);return[l*ur(t*e),n-l*gr(t*e)]}var a=gr(e),r=function(e){return nr(Dr/4+e/2)},t=e===i?ur(e):or(a/gr(i))/or(r(i)/r(e)),n=a*sr(r(e),t)/t;return t?(l.invert=function(e,i){var l=n-i,a=se(t)*pr(e*e+l*l);return[cr(e,l)/t,2*lr(sr(n/a,1/t))-Ir]},l):Mn}function Fn(e,t){function i(e,t){var i=n-t;return[i*ur(a*e),n-i*gr(a*e)]}var l=gr(e),a=e===t?ur(e):(l-gr(t))/(t-e),n=l/a+e;return Cr(a)<Pr?mn:(i.invert=function(e,t){var i=n-t;return[cr(e,i)/a,n-se(a)*pr(e*e+i*i)]},i)}function Mn(e,t){return[e,or(nr(Dr/4+t/2))]}function Tn(e){var n=un(e),i=n.scale,l=n.translate,a=n.clipExtent,r;return n.scale=function(){var e=i.apply(n,arguments);return e===n?r?n.clipExtent(null):n:e},n.translate=function(){var e=l.apply(n,arguments);return e===n?r?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=a.apply(n,arguments);if(o!==n)r&&(o=null);else if(r=null==e){var s=Dr*i(),d=l();a([[d[0]-s,d[1]-s],[d[0]+s,d[1]+s]])}return o},n.clipExtent(null)}function Nn(e,t){return[or(nr(Dr/4+t/2)),-e]}function Rn(e){return e[0]}function Pn(e){return e[1]}function Un(e){for(var t=e.length,n=[0,1],l=2,a=2;a<t;a++){for(;1<l&&0>=de(e[n[l-2]],e[n[l-1]],e[a]);)--l;n[l++]=a}return n.slice(0,l)}function Dn(e,t){return e[0]-t[0]||e[1]-t[1]}function On(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function In(e,t,n,i){var l=e[0],a=n[0],r=t[0]-l,o=i[0]-a,s=e[1],d=n[1],p=t[1]-s,c=i[1]-d,g=(o*(s-d)-c*(l-a))/(c*r-o*p);return[l+g*r,s+g*p]}function qn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Hn(){di(this),this.edge=this.site=this.circle=null}function Yn(e){var t=ts.pop()||new Hn;return t.site=e,t}function Zn(e){ei(e),as.remove(e),ts.push(e),di(e)}function Vn(e){var t=e.circle,n=t.x,i=t.cy,l={x:n,y:i},a=e.P,r=e.N,o=[e];Zn(e);for(var s=a;s.circle&&Cr(n-s.circle.x)<Pr&&Cr(i-s.circle.cy)<Pr;)a=s.P,o.unshift(s),Zn(s),s=a;o.unshift(s),ei(s);for(var d=r;d.circle&&Cr(n-d.circle.x)<Pr&&Cr(i-d.circle.cy)<Pr;)r=d.N,o.push(d),Zn(d),d=r;o.push(d),ei(d);var p=o.length,c;for(c=1;c<p;++c)d=o[c],s=o[c-1],ri(d.edge,s.site,d.site,l);s=o[0],d=o[p-1],d.edge=li(s.site,d.site,null,l),Qn(s),Qn(d)}function Bn(e){for(var t=e.x,n=e.y,i=as._,l,a,r,o;i;)if(r=Xn(i,n)-t,r>Pr)i=i.L;else if(o=t-Wn(i,n),o>Pr){if(!i.R){l=i;break}i=i.R}else{r>-Pr?(l=i.P,a=i):o>-Pr?(l=i,a=i.N):l=a=i;break}var s=Yn(e);if(as.insert(l,s),l||a){if(l===a)return ei(l),a=Yn(l.site),as.insert(s,a),s.edge=a.edge=li(l.site,s.site),Qn(l),void Qn(a);if(!a)return void(s.edge=li(l.site,s.site));ei(l),ei(a);var p=l.site,c=p.x,g=p.y,u=e.x-c,h=e.y-g,y=a.site,m=y.x-c,f=y.y-g,x=2*(u*f-h*m),d=u*u+h*h,_=m*m+f*f,v={x:(f*d-h*_)/x+c,y:(u*_-m*d)/x+g};ri(a.edge,p,y,v),s.edge=li(p,e,null,v),a.edge=li(e,y,null,v),Qn(l),Qn(a)}}function Xn(e,t){var n=e.site,i=n.x,l=n.y,a=l-t;if(!a)return i;var r=e.P;if(!r)return-Infinity;n=r.site;var o=n.x,s=n.y,d=s-t;if(!d)return o;var p=o-i,c=1/a-1/d,g=p/d;return c?(-g+pr(g*g-2*c*(p*p/(-2*d)-s+d/2+l-a/2)))/c+i:(i+o)/2}function Wn(e,t){var n=e.N;if(n)return Xn(n,t);var i=e.site;return i.y===t?i.x:1/0}function $n(e){this.site=e,this.edges=[]}function Gn(e){for(var t=e[0][0],n=e[1][0],i=e[0][1],l=e[1][1],a=ls,r=a.length,o,s,d,p,c,g,u,h,y,m;r--;)if(c=a[r],c&&c.prepare())for(u=c.edges,h=u.length,g=0;g<h;)m=u[g].end(),d=m.x,p=m.y,y=u[++g%h].start(),o=y.x,s=y.y,(Cr(d-o)>Pr||Cr(p-s)>Pr)&&(u.splice(g,0,new oi(ai(c.site,m,Cr(d-t)<Pr&&l-p>Pr?{x:t,y:Cr(o-t)<Pr?s:l}:Cr(p-l)<Pr&&n-d>Pr?{x:Cr(s-l)<Pr?o:n,y:l}:Cr(d-n)<Pr&&p-i>Pr?{x:n,y:Cr(o-n)<Pr?s:i}:Cr(p-i)<Pr&&d-t>Pr?{x:Cr(s-i)<Pr?o:t,y:i}:null),c.site,null)),++h)}function Jn(e,t){return t.angle-e.angle}function Kn(){di(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qn(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,l=e.site,a=n.site;if(i!==a){var r=l.x,o=l.y,s=i.x-r,p=i.y-o,c=a.x-r,g=a.y-o,u=2*(s*g-p*c);if(!(u>=-Ur)){var d=s*s+p*p,h=c*c+g*g,m=(g*d-p*h)/u,f=(s*h-c*d)/u,g=f+o,y=ns.pop()||new Kn;y.arc=e,y.site=l,y.x=m+r,y.y=g+pr(m*m+f*f),y.cy=g,e.circle=y;for(var x=null,_=os._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(_.L)_=_.L;else{x=_.P;break}}else if(_.R)_=_.R;else{x=_;break}os.insert(x,y),x||(rs=y)}}}}function ei(e){var t=e.circle;t&&(!t.P&&(rs=t.N),os.remove(t),ns.push(t),di(t),e.circle=null)}function ti(t){for(var n=is,l=$t(t[0][0],t[0][1],t[1][0],t[1][1]),a=n.length,r;a--;)r=n[a],(!ni(r,t)||!l(r)||Cr(r.a.x-r.b.x)<Pr&&Cr(r.a.y-r.b.y)<Pr)&&(r.a=r.b=null,n.splice(a,1))}function ni(e,t){var n=e.b;if(n)return!0;var i=e.a,l=t[0][0],a=t[1][0],r=t[0][1],o=t[1][1],s=e.l,d=e.r,p=s.x,c=s.y,g=d.x,u=d.y,h=(p+g)/2,y,m;if(u===c){if(h<l||h>=a)return;if(p>g){if(!i)i={x:h,y:r};else if(i.y>=o)return;n={x:h,y:o}}else{if(!i)i={x:h,y:o};else if(i.y<r)return;n={x:h,y:r}}}else if(y=(p-g)/(u-c),m=(c+u)/2-y*h,-1>y||1<y){if(p>g){if(!i)i={x:(r-m)/y,y:r};else if(i.y>=o)return;n={x:(o-m)/y,y:o}}else{if(!i)i={x:(o-m)/y,y:o};else if(i.y<r)return;n={x:(r-m)/y,y:r}}}else if(c<u){if(!i)i={x:l,y:y*l+m};else if(i.x>=a)return;n={x:a,y:y*a+m}}else{if(!i)i={x:a,y:y*a+m};else if(i.x<l)return;n={x:l,y:y*l+m}}return e.a=i,e.b=n,!0}function ii(e,t){this.l=e,this.r=t,this.a=this.b=null}function li(e,t,n,i){var l=new ii(e,t);return is.push(l),n&&ri(l,e,t,n),i&&ri(l,t,e,i),ls[e.i].edges.push(new oi(l,e,t)),ls[t.i].edges.push(new oi(l,t,e)),l}function ai(e,t,n){var i=new ii(e,null);return i.a=t,i.b=n,is.push(i),i}function ri(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function oi(e,t,n){var i=e.a,l=e.b;this.edge=e,this.site=t,this.angle=n?cr(n.y-t.y,n.x-t.x):e.l===t?cr(l.x-i.x,i.y-l.y):cr(i.x-l.x,l.y-i.y)}function si(){this._=null}function di(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function pi(e,t){var n=t,i=t.R,l=n.U;l?l.L===n?l.L=i:l.R=i:e._=i,i.U=l,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ci(e,t){var n=t,i=t.L,l=n.U;l?l.L===n?l.L=i:l.R=i:e._=i,i.U=l,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function gi(e){for(;e.L;)e=e.L;return e}function ui(e,t){var n=e.sort(hi).pop(),i,l,a;for(is=[],ls=Array(e.length),as=new si,os=new si;;)if(a=rs,n&&(!a||n.y<a.y||n.y===a.y&&n.x<a.x))(n.x!==i||n.y!==l)&&(ls[n.i]=new $n(n),Bn(n),i=n.x,l=n.y),n=e.pop();else if(a)Vn(a.arc);else break;t&&(ti(t),Gn(t));var r={cells:ls,edges:is};return as=os=is=ls=null,r}function hi(e,t){return t.y-e.y||t.x-e.x}function yi(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function mi(e){return e.x}function fi(e){return e.y}function xi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function _i(e,t,n,i,l,a){if(!e(t,n,i,l,a)){var r=.5*(n+l),o=.5*(i+a),s=t.nodes;s[0]&&_i(e,s[0],n,i,r,o),s[1]&&_i(e,s[1],r,i,l,o),s[2]&&_i(e,s[2],n,o,r,a),s[3]&&_i(e,s[3],r,o,l,a)}}function vi(e,t,n,l,a,r,o){var i=1/0,s;return function e(d,p,c,g,u){if(!(p>r||c>o||g<l||u<a)){if(f=d.point){var h=t-d.x,y=n-d.y,m=h*h+y*y,f;if(m<i){var x=pr(i=m);l=t-x,a=n-x,r=t+x,o=n+x,s=f}}for(var _=d.nodes,v=.5*(p+g),b=.5*(c+u),C=(n>=b)<<1|t>=v;void 0>C;++C)if(d=_[3&C])switch(3&C){case 0:e(d,p,c,v,b);break;case 1:e(d,v,c,g,b);break;case 2:e(d,p,b,v,u);break;case 3:e(d,v,b,g,u);}}}(e,l,a,r,o),s}function bi(e,t){e=fr.rgb(e),t=fr.rgb(t);var n=e.r,i=e.g,l=e.b,r=t.r-n,o=t.g-i,d=t.b-l;return function(e){return"#"+je(s(n+r*e))+je(s(i+o*e))+je(s(l+d*e))}}function Ci(e,t){var n={},i={},l;for(l in e)l in t?n[l]=Si(e[l],t[l]):i[l]=e[l];for(l in t)l in e||(i[l]=t[l]);return function(e){for(l in n)i[l]=n[l](e);return i}}function ki(e,n){return e=+e,n=+n,function(i){return e*(1-i)+n*i}}function wi(e,n){var t=ds.lastIndex=ps.lastIndex=0,l=-1,r=[],s=[],o,d,p;for(e+="",n+="";(o=ds.exec(e))&&(d=ps.exec(n));)(p=d.index)>t&&(p=n.slice(t,p),r[l]?r[l]+=p:r[++l]=p),(o=o[0])===(d=d[0])?r[l]?r[l]+=d:r[++l]=d:(r[++l]=null,s.push({i:l,x:ki(o,d)})),t=ps.lastIndex;return t<n.length&&(p=n.slice(t),r[l]?r[l]+=p:r[++l]=p),2>r.length?s[0]?(n=s[0].x,function(e){return n(e)+""}):function(){return n}:(n=s.length,function(e){for(var t=0,l;t<n;++t)r[(l=s[t]).i]=l.x(e);return r.join("")})}function Si(e,t){for(var n=fr.interpolators.length,l;0<=--n&&!(l=fr.interpolators[n](e,t)););return l}function Ei(e,n){var l=[],a=[],r=e.length,o=n.length,s=t(e.length,n.length),d;for(d=0;d<s;++d)l.push(Si(e[d],n[d]));for(;d<r;++d)a[d]=e[d];for(;d<o;++d)a[d]=n[d];return function(e){for(d=0;d<s;++d)a[d]=l[d](e);return a}}function Li(e){return function(n){return 0>=n?0:1<=n?1:e(n)}}function Ai(e){return function(n){return 1-e(1-n)}}function zi(e){return function(n){return .5*(.5>n?e(2*n):2-e(2-2*n))}}function ji(e){return e*e}function Fi(e){return e*e*e}function Mi(e){if(0>=e)return 0;if(1<=e)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Ti(e){return 1-gr(e*Ir)}function Ni(e){return sr(2,10*(e-1))}function Ri(e){return 1-pr(1-e*e)}function Pi(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ui(e,n){return n-=e,function(i){return s(e+n*i)}}function Di(e){var t=[e.a,e.b],n=[e.c,e.d],i=Ii(t),l=Oi(t,n),a=Ii(qi(n,t,-l))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,i*=-1,l*=-1),this.rotate=(i?cr(t[1],t[0]):cr(-n[0],n[1]))*Hr,this.translate=[e.e,e.f],this.scale=[i,a],this.skew=a?cr(l,a)*Hr:0}function Oi(e,t){return e[0]*t[0]+e[1]*t[1]}function Ii(e){var t=pr(Oi(e,e));return t&&(e[0]/=t,e[1]/=t),t}function qi(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Hi(e){return e.length?e.pop()+",":""}function Yi(e,t,n,l){if(e[0]!==t[0]||e[1]!==t[1]){var a=n.push("translate(",null,",",null,")");l.push({i:a-4,x:ki(e[0],t[0])},{i:a-2,x:ki(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function Zi(e,t,n,i){e===t?t&&n.push(Hi(n)+"rotate("+t+")"):(180<e-t?t+=360:180<t-e&&(e+=360),i.push({i:n.push(Hi(n)+"rotate(",null,")")-2,x:ki(e,t)}))}function Vi(e,t,n,i){e===t?t&&n.push(Hi(n)+"skewX("+t+")"):i.push({i:n.push(Hi(n)+"skewX(",null,")")-2,x:ki(e,t)})}function Bi(e,t,n,l){if(e[0]!==t[0]||e[1]!==t[1]){var a=n.push(Hi(n)+"scale(",null,",",null,")");l.push({i:a-4,x:ki(e[0],t[0])},{i:a-2,x:ki(e[1],t[1])})}else(1!==t[0]||1!==t[1])&&n.push(Hi(n)+"scale("+t+")")}function Xi(e,t){var l=[],r=[];return e=fr.transform(e),t=fr.transform(t),Yi(e.translate,t.translate,l,r),Zi(e.rotate,t.rotate,l,r),Vi(e.skew,t.skew,l,r),Bi(e.scale,t.scale,l,r),e=t=null,function(e){for(var t=-1,a=r.length,n;++t<a;)l[(n=r[t]).i]=n.x(e);return l.join("")}}function Wi(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function $i(e,n){return n=(n-=e=+e)||1/n,function(i){return o(0,t(1,(i-e)/n))}}function Gi(e){for(var t=e.source,n=e.target,i=Ki(t,n),l=[t];t!==i;)t=t.parent,l.push(t);for(var a=l.length;n!==i;)l.splice(a,0,n),n=n.parent;return l}function Ji(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Ki(e,t){if(e===t)return e;for(var n=Ji(e),i=Ji(t),l=n.pop(),a=i.pop(),r=null;l===a;)r=l,l=n.pop(),a=i.pop();return r}function Qi(e){e.fixed|=2}function el(e){e.fixed&=-7}function tl(e){e.fixed|=4,e.px=e.x,e.py=e.y}function nl(e){e.fixed&=-5}function il(e,t,l){var a=0,r=0;if(e.charge=0,!e.leaf)for(var o=e.nodes,s=o.length,n=-1,d;++n<s;)d=o[n],null==d||(il(d,t,l),e.charge+=d.charge,a+=d.charge*d.cx,r+=d.charge*d.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var p=t*l[e.point.index];e.charge+=e.pointCharge=p,a+=p*e.point.x,r+=p*e.point.y}e.cx=a/e.charge,e.cy=r/e.charge}function ll(e,t){return fr.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=pl,e}function al(e,t){for(var i=[e];null!=(e=i.pop());)if(t(e),(a=e.children)&&(l=a.length))for(var l,a;0<=--l;)i.push(a[l])}function rl(e,t){for(var l=[e],a=[];null!=(e=l.pop());)if(a.push(e),(s=e.children)&&(o=s.length))for(var r=-1,o,s;++r<o;)l.push(s[r]);for(;null!=(e=a.pop());)t(e)}function ol(e){return e.children}function sl(e){return e.value}function dl(e,t){return t.value-e.value}function pl(e){return fr.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function cl(e){return e.x}function gl(e){return e.y}function ul(e,t,n){e.y0=t,e.y=n}function hl(e){return fr.range(e.length)}function yl(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function ml(e){for(var t=1,l=0,a=e[0][1],r=e.length,n;t<r;++t)(n=e[t][1])>a&&(l=t,a=n);return l}function fl(e){return e.reduce(xl,0)}function xl(e,t){return e+t[1]}function _l(e,t){return vl(e,ar(or(t.length)/tr+1))}function vl(e,t){for(var n=-1,i=+e[0],l=(e[1]-i)/t,a=[];++n<=t;)a[n]=l*n+i;return a}function bl(e){return[fr.min(e),fr.max(e)]}function Cl(e,t){return e.value-t.value}function kl(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function wl(e,t){e._pack_next=t,t._pack_prev=e}function Sl(e,t){var n=t.x-e.x,i=t.y-e.y,l=e.r+t.r;return .999*l*l>n*n+i*i}function El(e){function l(e){r=t(e.x-e.r,r),s=o(e.x+e.r,s),d=t(e.y-e.r,d),p=o(e.y+e.r,p)}if((g=e.children)&&(_=g.length)){var r=1/0,s=-Infinity,d=1/0,p=-Infinity,g,u,h,y,m,f,x,_;if(g.forEach(Ll),u=g[0],u.x=-u.r,u.y=0,l(u),1<_&&(h=g[1],h.x=h.r,h.y=0,l(h),2<_))for(y=g[2],jl(u,h,y),l(y),kl(u,y),u._pack_prev=y,kl(y,h),h=u._pack_next,m=3;m<_;m++){jl(u,h,y=g[m]);var v=0,C=1,w=1;for(f=h._pack_next;f!==h;f=f._pack_next,C++)if(Sl(f,y)){v=1;break}if(1==v)for(x=u._pack_prev;x!==f._pack_prev&&!Sl(x,y);x=x._pack_prev,w++);v?(C<w||C==w&&h.r<u.r?wl(u,h=f):wl(u=x,h),m--):(kl(u,y),h=y,l(y))}var S=(r+s)/2,E=(d+p)/2,L=0;for(m=0;m<_;m++)y=g[m],y.x-=S,y.y-=E,L=o(L,y.r+pr(y.x*y.x+y.y*y.y));e.r=L,g.forEach(Al)}}function Ll(e){e._pack_next=e._pack_prev=e}function Al(e){delete e._pack_next,delete e._pack_prev}function zl(e,t,l,a){var r=e.children;if(e.x=t+=a*e.x,e.y=l+=a*e.y,e.r*=a,r)for(var o=-1,s=r.length;++o<s;)zl(r[o],t,l,a)}function jl(e,t,n){var i=e.r+n.r,l=t.x-e.x,a=t.y-e.y;if(i&&(l||a)){var r=t.r+n.r,s=l*l+a*a;r*=r,i*=i;var d=.5+(i-r)/(2*s),p=pr(o(0,2*r*(i+s)-(i-=s)*i-r*r))/(2*s);n.x=e.x+d*l+p*a,n.y=e.y+d*a-p*l}else n.x=e.x+i,n.y=e.y}function Fl(e,t){return e.parent==t.parent?1:2}function Ml(e){var t=e.children;return t.length?t[0]:e.t}function Tl(e){var t=e.children,i;return(i=t.length)?t[i-1]:e.t}function Nl(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function Rl(e){for(var t=0,n=0,l=e.children,a=l.length,r;0<=--a;)r=l[a],r.z+=t,r.m+=t,t+=r.s+(n+=r.c)}function Pl(e,t,n){return e.a.parent===t.parent?e.a:n}function Ul(e){return 1+fr.max(e,function(e){return e.y})}function Dl(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ol(e){var t=e.children;return t&&t.length?Ol(t[0]):e}function Il(e){var t=e.children,i;return t&&(i=t.length)?Il(t[i-1]):e}function ql(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Hl(e,t){var n=e.x+t[3],i=e.y+t[0],l=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return 0>l&&(n+=l/2,l=0),0>a&&(i+=a/2,a=0),{x:n,y:i,dx:l,dy:a}}function Yl(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Zl(e){return e.rangeExtent?e.rangeExtent():Yl(e.range())}function Vl(e,t,n,l){var a=n(e[0],e[1]),r=l(t[0],t[1]);return function(e){return r(a(e))}}function Bl(e,t){var n=0,i=e.length-1,l=e[n],a=e[i],r;return a<l&&(r=n,n=i,i=r,r=l,l=a,a=r),e[n]=t.floor(l),e[i]=t.ceil(a),e}function Xl(e){return e?{floor:function(t){return er(t/e)*e},ceil:function(t){return ar(t/e)*e}}:bs}function Wl(e,n,l,a){var r=[],o=[],i=0,s=t(e.length,n.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++i<=s;)r.push(l(e[i-1],e[i])),o.push(a(n[i-1],n[i]));return function(t){var n=fr.bisect(e,t,1,s)-1;return o[n](r[n](t))}}function $l(e,n,i,l){function a(){var a=2<t(e.length,n.length)?Wl:Vl,d=l?$i:Wi;return o=a(e,n,d,i),s=a(n,e,d,Si),r}function r(e){return o(e)}var o,s;return r.invert=function(e){return s(e)},r.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},r.range=function(e){return arguments.length?(n=e,a()):n},r.rangeRound=function(e){return r.range(e).interpolate(Ui)},r.clamp=function(e){return arguments.length?(l=e,a()):l},r.interpolate=function(e){return arguments.length?(i=e,a()):i},r.ticks=function(t){return Ql(e,t)},r.tickFormat=function(t,n){return ea(e,t,n)},r.nice=function(t){return Jl(e,t),a()},r.copy=function(){return $l(e,n,i,l)},a()}function Gl(e,t){return fr.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Jl(e,t){return Bl(e,Xl(Kl(e,t)[2])),Bl(e,Xl(Kl(e,t)[2])),e}function Kl(e,t){null==t&&(t=10);var n=Yl(e),i=n[1]-n[0],l=sr(10,er(or(i/t)/rr)),a=t/i*l;return .15>=a?l*=10:.35>=a?l*=5:.75>=a&&(l*=2),n[0]=ar(n[0]/l)*l,n[1]=er(n[1]/l)*l+.5*l,n[2]=l,n}function Ql(e,t){return fr.range.apply(fr,Kl(e,t))}function ea(e,t,n){var i=Kl(e,t);if(n){var l=po.exec(n);if(l.shift(),"s"===l[8]){var a=fr.formatPrefix(o(Cr(i[0]),Cr(i[1])));return l[7]||(l[7]="."+ta(a.scale(i[2]))),l[8]="f",n=fr.format(l.join("")),function(e){return n(a.scale(e))+a.symbol}}l[7]||(l[7]="."+na(l[8],i)),n=l.join("")}else n=",."+ta(i[2])+"f";return fr.format(n)}function ta(e){return-er(or(e)/rr+.01)}function na(t,n){var i=ta(n[2]);return t in Cs?e(i-ta(o(Cr(n[0]),Cr(n[1]))))+ +("e"!==t):i-2*("%"===t)}function ia(e,t,l,a){function r(e){return(l?or(0>e?0:e):-or(0<e?0:-e))/or(t)}function p(e){return l?sr(t,e):-sr(t,-e)}function c(t){return e(r(t))}return c.invert=function(t){return p(e.invert(t))},c.domain=function(t){return arguments.length?(l=0<=t[0],e.domain((a=t.map(Number)).map(r)),c):a},c.base=function(n){return arguments.length?(t=+n,e.domain(a.map(r)),c):t},c.nice=function(){var t=Bl(a.map(r),l?Math:ws);return e.domain(t),a=t.map(p),c},c.ticks=function(){var e=Yl(a),o=[],s=e[0],d=e[1],c=er(r(s)),g=ar(r(d)),u=t%1?2:t;if(isFinite(g-c)){if(l){for(;c<g;c++)for(var n=1;n<u;n++)o.push(p(c)*n);o.push(p(c))}else for(o.push(p(c));c++<g;)for(var n=u-1;0<n;n--)o.push(p(c)*n);for(c=0;o[c]<s;c++);for(g=o.length;o[g-1]>d;g--);o=o.slice(c,g)}return o},c.tickFormat=function(e,n){if(!arguments.length)return ks;2>arguments.length?n=ks:"function"!=typeof n&&(n=fr.format(n));var l=o(1,t*e/c.ticks().length);return function(e){var a=e/p(s(r(e)));return a*t<t-.5&&(a*=t),a<=l?n(e):""}},c.copy=function(){return ia(e.copy(),t,l,a)},Gl(c,e)}function la(e,t,n){function i(t){return e(l(t))}var l=aa(t),a=aa(1/t);return i.invert=function(t){return a(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(l)),i):n},i.ticks=function(e){return Ql(n,e)},i.tickFormat=function(e,t){return ea(n,e,t)},i.nice=function(e){return i.domain(Jl(n,e))},i.exponent=function(r){return arguments.length?(l=aa(t=r),a=aa(1/t),e.domain(n.map(l)),i):t},i.copy=function(){return la(e.copy(),t,n)},Gl(i,e)}function aa(t){return function(e){return 0>e?-sr(-e,t):sr(e,t)}}function ra(e,t){function l(n){return o[((r.get(n)||("range"===t.t?r.set(n,e.push(n)):NaN))-1)%o.length]}function a(t,n){return fr.range(e.length).map(function(e){return t+n*e})}var r,o,d;return l.domain=function(a){if(!arguments.length)return e;e=[],r=new _;for(var o=-1,s=a.length,n;++o<s;)r.has(n=a[o])||r.set(n,e.push(n));return l[t.t].apply(l,t.a)},l.range=function(e){return arguments.length?(o=e,d=0,t={t:"range",a:arguments},l):o},l.rangePoints=function(n,i){2>arguments.length&&(i=0);var r=n[0],s=n[1],p=2>e.length?(r=(r+s)/2,0):(s-r)/(e.length-1+i);return o=a(r+p*i/2,p),d=0,t={t:"rangePoints",a:arguments},l},l.rangeRoundPoints=function(n,i){2>arguments.length&&(i=0);var r=n[0],p=n[1],c=2>e.length?(r=p=s((r+p)/2),0):0|(p-r)/(e.length-1+i);return o=a(r+s(c*i/2+(p-r-(e.length-1+i)*c)/2),c),d=0,t={t:"rangeRoundPoints",a:arguments},l},l.rangeBands=function(n,i,r){2>arguments.length&&(i=0),3>arguments.length&&(r=i);var s=n[1]<n[0],p=n[s-0],c=n[1-s],g=(c-p)/(e.length-i+2*r);return o=a(p+g*r,g),s&&o.reverse(),d=g*(1-i),t={t:"rangeBands",a:arguments},l},l.rangeRoundBands=function(n,i,r){2>arguments.length&&(i=0),3>arguments.length&&(r=i);var p=n[1]<n[0],c=n[p-0],g=n[1-p],u=er((g-c)/(e.length-i+2*r));return o=a(c+s((g-c-(e.length-i)*u)/2),u),p&&o.reverse(),d=s(u*(1-i)),t={t:"rangeRoundBands",a:arguments},l},l.rangeBand=function(){return d},l.rangeExtent=function(){return Yl(t.a[0])},l.copy=function(){return ra(e,t)},l.domain(e)}function oa(e,t){function n(){var n=0,a=t.length;for(l=[];++n<a;)l[n-1]=fr.quantile(e,n/a);return i}function i(e){if(!isNaN(e=+e))return t[fr.bisect(l,e)]}var l;return i.domain=function(t){return arguments.length?(e=t.map(p).filter(c).sort(r),n()):e},i.range=function(e){return arguments.length?(t=e,n()):t},i.quantiles=function(){return l},i.invertExtent=function(n){return n=t.indexOf(n),0>n?[NaN,NaN]:[0<n?l[n-1]:e[0],n<l.length?l[n]:e[e.length-1]]},i.copy=function(){return oa(e,t)},n()}function sa(e,n,l){function a(n){return l[o(0,t(d,er(s*(n-e))))]}function r(){return s=l.length/(n-e),d=l.length-1,a}var s,d;return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],r()):[e,n]},a.range=function(e){return arguments.length?(l=e,r()):l},a.invertExtent=function(t){return t=l.indexOf(t),t=0>t?NaN:t/s+e,[t,t+1/s]},a.copy=function(){return sa(e,n,l)},r()}function da(e,t){function n(n){if(n<=n)return t[fr.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return da(e,t)},n}function pa(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Ql(e,t)},t.tickFormat=function(t,n){return ea(e,t,n)},t.copy=function(){return pa(e)},t}function ca(){return 0}function ga(e){return e.innerRadius}function ua(e){return e.outerRadius}function ha(e){return e.startAngle}function ya(e){return e.endAngle}function ma(e){return e&&e.padAngle}function fa(e,t,n,i){return 0<(e-n)*t-(t-i)*e?0:1}function xa(e,t,n,i,l){var a=e[0]-t[0],s=e[1]-t[1],p=(l?i:-i)/pr(a*a+s*s),c=p*s,g=-p*a,u=e[0]+c,h=e[1]+g,y=t[0]+c,m=t[1]+g,f=(u+y)/2,x=(h+m)/2,_=y-u,v=m-h,b=_*_+v*v,C=n-i,r=u*m-y*h,k=(0>v?-1:1)*pr(o(0,C*C*b-r*r)),d=(r*v-_*k)/b,w=(-r*_-v*k)/b,S=(r*v+_*k)/b,E=(-r*_+v*k)/b,L=d-f,A=w-x,z=S-f,j=E-x;return L*L+A*A>z*z+j*j&&(d=S,w=E),[[d-c,w-g],[d*n/C,w*n/C]]}function _a(e){function t(t){function s(){p.push("M",o(e(c),d))}for(var p=[],c=[],g=-1,u=t.length,n=Pe(l),h=Pe(a),y;++g<u;)r.call(this,y=t[g],g)?c.push([+n.call(this,y,g),+h.call(this,y,g)]):c.length&&(s(),c=[]);return c.length&&s(),p.length?p.join(""):null}var l=Rn,a=Pn,r=Dt,o=va,s=o.key,d=.7;return t.x=function(e){return arguments.length?(l=e,t):l},t.y=function(e){return arguments.length?(a=e,t):a},t.defined=function(e){return arguments.length?(r=e,t):r},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?o=e:(o=js.get(e)||va).key,t):s},t.tension=function(e){return arguments.length?(d=e,t):d},t}function va(e){return 1<e.length?e.join("L"):e+"Z"}function ba(e){return e.join("L")+"Z"}function Ca(e){for(var t=0,l=e.length,n=e[0],a=[n[0],",",n[1]];++t<l;)a.push("V",(n=e[t])[1],"H",n[0]);return a.join("")}function ka(e){for(var t=0,l=e.length,n=e[0],a=[n[0],",",n[1]];++t<l;)a.push("H",(n=e[t])[0],"V",n[1]);return a.join("")}function wa(e,n){if(1>n.length||e.length!=n.length&&e.length!=n.length+2)return va(e);var l=e.length!=n.length,a="",r=e[0],o=e[1],s=n[0],d=s,c=1;if(l&&(a+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=e[1],c=2),1<n.length){d=n[1],o=e[c],c++,a+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-d[0])+","+(o[1]-d[1])+","+o[0]+","+o[1];for(var g=2;g<n.length;g++,c++)o=e[c],d=n[g],a+="S"+(o[0]-d[0])+","+(o[1]-d[1])+","+o[0]+","+o[1]}if(l){var u=e[c];a+="Q"+(o[0]+2*d[0]/3)+","+(o[1]+2*d[1]/3)+","+u[0]+","+u[1]}return a}function Sa(e,t){for(var l=[],r=(1-t)/2,a=e[0],o=e[1],s=1,d=e.length,n;++s<d;)n=a,a=o,o=e[s],l.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return l}function Ea(e){if(3>e.length)return va(e);var t=1,l=e.length,n=e[0],a=n[0],r=n[1],o=[a,a,a,(n=e[1])[0]],s=[r,r,r,n[1]],d=[a,",",r,"L",La(Ts,o),",",La(Ts,s)];for(e.push(e[l-1]);++t<=l;)n=e[t],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Aa(d,o,s);return e.pop(),d.push("L",n),d.join("")}function La(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Aa(e,t,n){e.push("C",La(Fs,t),",",La(Fs,n),",",La(Ms,t),",",La(Ms,n),",",La(Ts,t),",",La(Ts,n))}function za(e,t){return(t[1]-e[1])/(t[0]-e[0])}function ja(e){for(var t=0,n=e.length-1,l=[],a=e[0],r=e[1],o=l[0]=za(a,r);++t<n;)l[t]=(o+(o=za(a=r,r=e[t+1])))/2;return l[t]=o,l}function Fa(e){for(var n=[],l=ja(e),r=-1,p=e.length-1,c,g,u,h;++r<p;)c=za(e[r],e[r+1]),Cr(c)<Pr?l[r]=l[r+1]=0:(g=l[r]/c,u=l[r+1]/c,h=g*g+u*u,9<h&&(h=3*c/pr(h),l[r]=h*g,l[r+1]=h*u));for(r=-1;++r<=p;)h=(e[t(p,r+1)][0]-e[o(0,r-1)][0])/(6*(1+l[r]*l[r])),n.push([h||0,l[r]*h||0]);return n}function Ma(e){for(var t=-1,l=e.length,n,o,s;++t<l;)n=e[t],o=n[0],s=n[1]-Ir,n[0]=o*gr(s),n[1]=o*ur(s);return e}function Ta(e){function t(t){function p(){u.push("M",d(e(m),n),g,c(e(h.reverse()),n),"Z")}for(var u=[],h=[],m=[],f=-1,_=t.length,v=Pe(l),b=Pe(r),C=l===a?function(){return S}:Pe(a),k=r===o?function(){return E}:Pe(o),w,S,E;++f<_;)s.call(this,w=t[f],f)?(h.push([S=+v.call(this,w,f),E=+b.call(this,w,f)]),m.push([+C.call(this,w,f),+k.call(this,w,f)])):h.length&&(p(),h=[],m=[]);return h.length&&p(),u.length?u.join(""):null}var l=Rn,a=Rn,r=0,o=Pn,s=Dt,d=va,p=d.key,c=d,g="L",n=.7;return t.x=function(e){return arguments.length?(l=a=e,t):a},t.x0=function(e){return arguments.length?(l=e,t):l},t.x1=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(r=o=e,t):o},t.y0=function(e){return arguments.length?(r=e,t):r},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(s=e,t):s},t.interpolate=function(e){return arguments.length?(p="function"==typeof e?d=e:(d=js.get(e)||va).key,c=d.reverse||d,g=d.closed?"M":"L",t):p},t.tension=function(e){return arguments.length?(n=e,t):n},t}function Na(e){return e.radius}function Ra(e){return[e.x,e.y]}function Pa(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]-Ir;return[n*gr(i),n*ur(i)]}}function Ua(){return 64}function Da(){return"circle"}function Oa(e){var t=pr(e/Dr);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Ia(e){return function(){var t,n,i;(t=this[e])&&(i=t[n=t.active])&&(i.timer.c=null,i.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function qa(e,t,n){return Sr(e,Ds),e.namespace=t,e.id=n,e}function Ha(e,t,n,l){var a=e.id,r=e.namespace;return Q(e,"function"==typeof n?function(e,o,i){e[r][a].tween.set(t,l(n.call(e,e.__data__,o,i)))}:(n=l(n),function(e){e[r][a].tween.set(t,n)}))}function Ya(e){return null==e&&(e=""),function(){this.textContent=e}}function Za(e){return null==e?"__transition__":"__transition_"+e+"__"}function Va(l,a,i,r,e){function t(e){var t=d.delay;return c.t=t+p,t<=e?n(e-t):void(c.c=n)}function n(e){var t=s.active,n=s[t];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--s.count,delete s[t],n.event&&n.event.interrupt.call(l,l.__data__,n.index)),s)if(+i<r){var y=s[i];y.timer.c=null,y.timer.t=NaN,--s.count,delete s[i]}c.c=o,qe(function(){return c.c&&o(e||1)&&(c.c=null,c.t=NaN),1},0,p),s.active=r,d.event&&d.event.start.call(l,l.__data__,a),h=[],d.tween.forEach(function(e,t){(t=t.call(l,l.__data__,a))&&h.push(t)}),u=d.ease,g=d.duration}function o(o){for(var p=o/g,t=u(p),e=h.length;0<e;)h[--e].call(l,t);if(1<=p)return d.event&&d.event.end.call(l,l.__data__,a),--s.count?delete s[r]:delete l[i],1}var s=l[i]||(l[i]={active:0,count:0}),d=s[r],p,c,g,u,h;d||(p=e.time,c=qe(t,0,p),d=s[r]={tween:new _,time:p,timer:c,delay:e.delay,duration:e.duration,ease:e.ease,index:a},e=null,++s.count)}function Ba(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate("+(isFinite(i)?i:n(e))+",0)"})}function Xa(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate(0,"+(isFinite(i)?i:n(e))+")"})}function Wa(e){return e.toISOString()}function $a(e,t,n){function i(t){return e(t)}function l(e,n){var l=e[1]-e[0],a=l/n,r=fr.bisect($s,a);return r==$s.length?[t.year,Kl(e.map(function(e){return e/31536e6}),n)[2]]:r?t[a/$s[r-1]<$s[r]/a?r-1:r]:[Ks,Kl(e,n)[2]]}return i.invert=function(t){return Ga(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(Ga)},i.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,Ga(+n+1),t).length}var a=i.domain(),r=Yl(a),o=null==e?l(r,10):"number"==typeof e&&l(r,e);return o&&(e=o[0],t=o[1]),i.domain(Bl(a,1<t?{floor:function(t){for(;n(t=e.floor(t));)t=Ga(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=Ga(+t+1);return t}}:e))},i.ticks=function(e,t){var n=Yl(i.domain()),a=null==e?l(n,10):"number"==typeof e?l(n,e):!e.range&&[{range:e},t];return a&&(e=a[0],t=a[1]),e.range(n[0],Ga(+n[1]+1),1>t?1:t)},i.tickFormat=function(){return n},i.copy=function(){return $a(e.copy(),t,n)},Gl(i,e)}function Ga(e){return new Date(e)}function Ja(e){return JSON.parse(e.responseText)}function Ka(e){var t=f.createRange();return t.selectNode(f.body),t.createContextualFragment(e.responseText)}var fr={version:"3.5.17"},a=[].slice,m=function(e){return a.call(e)},f=this.document;if(f)try{m(f.documentElement.childNodes)[0].nodeType}catch(t){m=function(e){for(var t=e.length,n=Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),f)try{f.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var x=this.Element.prototype,dr=x.setAttribute,xr=x.setAttributeNS,_r=this.CSSStyleDeclaration.prototype,vr=_r.setProperty;x.setAttribute=function(e,t){dr.call(this,e,t+"")},x.setAttributeNS=function(e,t,n){xr.call(this,e,t,n+"")},_r.setProperty=function(e,t,n){vr.call(this,e,t+"",n)}}fr.ascending=r,fr.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},fr.min=function(e,t){var l=-1,r=e.length,n,o;if(1===arguments.length){for(;++l<r;)if(null!=(o=e[l])&&o>=o){n=o;break}for(;++l<r;)null!=(o=e[l])&&n>o&&(n=o)}else{for(;++l<r;)if(null!=(o=t.call(e,e[l],l))&&o>=o){n=o;break}for(;++l<r;)null!=(o=t.call(e,e[l],l))&&n>o&&(n=o)}return n},fr.max=function(e,t){var l=-1,r=e.length,n,o;if(1===arguments.length){for(;++l<r;)if(null!=(o=e[l])&&o>=o){n=o;break}for(;++l<r;)null!=(o=e[l])&&o>n&&(n=o)}else{for(;++l<r;)if(null!=(o=t.call(e,e[l],l))&&o>=o){n=o;break}for(;++l<r;)null!=(o=t.call(e,e[l],l))&&o>n&&(n=o)}return n},fr.extent=function(e,t){var l=-1,r=e.length,n,o,s;if(1===arguments.length){for(;++l<r;)if(null!=(o=e[l])&&o>=o){n=s=o;break}for(;++l<r;)null!=(o=e[l])&&(n>o&&(n=o),s<o&&(s=o))}else{for(;++l<r;)if(null!=(o=t.call(e,e[l],l))&&o>=o){n=s=o;break}for(;++l<r;)null!=(o=t.call(e,e[l],l))&&(n>o&&(n=o),s<o&&(s=o))}return[n,s]},fr.sum=function(e,t){var l=0,r=e.length,n=-1,o;if(1===arguments.length)for(;++n<r;)c(o=+e[n])&&(l+=o);else for(;++n<r;)c(o=+t.call(e,e[n],n))&&(l+=o);return l},fr.mean=function(e,t){var l=0,r=e.length,n=-1,o=r,d;if(1===arguments.length)for(;++n<r;)c(d=p(e[n]))?l+=d:--o;else for(;++n<r;)c(d=p(t.call(e,e[n],n)))?l+=d:--o;return o?l/o:void 0},fr.quantile=function(t,n){var i=(t.length-1)*n+1,l=er(i),a=+t[l-1],r=i-l;return r?a+r*(t[l]-a):a},fr.median=function(e,t){var l=[],o=e.length,n=-1,s;if(1===arguments.length)for(;++n<o;)c(s=p(e[n]))&&l.push(s);else for(;++n<o;)c(s=p(t.call(e,e[n],n)))&&l.push(s);return l.length?fr.quantile(l.sort(r),.5):void 0},fr.variance=function(e,t){var l=e.length,n=0,r=0,o=-1,g=0,u,h;if(1===arguments.length)for(;++o<l;)c(u=p(e[o]))&&(h=u-n,n+=h/++g,r+=h*(u-n));else for(;++o<l;)c(u=p(t.call(e,e[o],o)))&&(h=u-n,n+=h/++g,r+=h*(u-n));return 1<g?r/(g-1):void 0},fr.deviation=function(){var e=fr.variance.apply(this,arguments);return e?pr(e):e};var br=g(r);fr.bisectLeft=br.left,fr.bisect=fr.bisectRight=br.right,fr.bisector=function(e){return g(1===e.length?function(t,n){return r(e(t),n)}:e)},fr.shuffle=function(e,n,l){3>(a=arguments.length)&&(l=e.length,2>a&&(n=0));for(var a=l-n,r,o;a;)o=0|Math.random()*a--,r=e[a+n],e[a+n]=e[o+n],e[o+n]=r;return e},fr.permute=function(e,t){for(var n=t.length,l=Array(n);n--;)l[n]=e[t[n]];return l},fr.pairs=function(e){for(var t=0,l=e.length-1,n=e[0],a=Array(0>l?0:l),r;t<l;)a[t]=[r=n,n=e[++t]];return a},fr.transpose=function(e){if(!(s=e.length))return[];for(var t=-1,l=fr.min(e,u),a=Array(l);++t<l;)for(var r=-1,o=a[t]=Array(s),s;++r<s;)o[r]=e[r][t];return a},fr.zip=function(){return fr.transpose(arguments)},fr.keys=function(e){var t=[];for(var n in e)t.push(n);return t},fr.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},fr.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},fr.merge=function(e){for(var t=e.length,l=-1,a=0,r,o,s;++l<t;)a+=e[l].length;for(o=Array(a);0<=--t;)for(s=e[t],r=s.length;0<=--r;)o[--a]=s[r];return o};var Cr=e;fr.range=function(e,t,n){if(3>arguments.length&&(n=1,2>arguments.length&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var l=[],a=h(Cr(n)),r=-1,o;if(e*=a,t*=a,n*=a,0>n)for(;(o=e+n*++r)>t;)l.push(o/a);else for(;(o=e+n*++r)<t;)l.push(o/a);return l},fr.map=function(e,t){var l=new _;if(e instanceof _)e.forEach(function(e,t){l.set(e,t)});else if(Array.isArray(e)){var a=-1,r=e.length,n;if(1===arguments.length)for(;++a<r;)l.set(a,e[a]);else for(;++a<r;)l.set(t.call(e,n=e[a],a),n)}else for(var s in e)l.set(s,e[s]);return l};y(_,{has:C,get:function(e){return this._[v(e)]},set:function(e,t){return this._[v(e)]=t},remove:k,keys:w,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:b(t),value:this._[t]});return e},size:S,empty:E,forEach:function(e){for(var t in this._)e.call(this,b(t),this._[t])}}),fr.nest=function(){function e(t,r,d){if(d>=a.length)return s?s.call(l,r):o?r.sort(o):r;for(var p=-1,c=r.length,n=a[d++],g=new _,u,h,y,m;++p<c;)(m=g.get(u=n(h=r[p])))?m.push(h):g.set(u,[h]);return t?(h=t(),y=function(n,i){h.set(n,e(t,i,d))}):(h={},y=function(n,i){h[n]=e(t,i,d)}),g.forEach(y),h}function t(e,n){if(n>=a.length)return e;var i=[],l=r[n++];return e.forEach(function(e,l){i.push({key:e,values:t(l,n)})}),l?i.sort(function(e,t){return l(e.key,t.key)}):i}var l={},a=[],r=[],o,s;return l.map=function(t,n){return e(n,t,0)},l.entries=function(n){return t(e(fr.map,n,0),0)},l.key=function(e){return a.push(e),l},l.sortKeys=function(e){return r[a.length-1]=e,l},l.sortValues=function(e){return o=e,l},l.rollup=function(e){return s=e,l},l},fr.set=function(e){var t=new L;if(e)for(var l=0,a=e.length;l<a;++l)t.add(e[l]);return t},y(L,{has:C,add:function(e){return this._[v(e+="")]=!0,e},remove:k,values:w,size:S,empty:E,forEach:function(e){for(var t in this._)e.call(this,b(t))}}),fr.behavior={},fr.rebind=function(e,t){for(var l=1,a=arguments.length,n;++l<a;)e[n=arguments[l]]=z(e,t,t[n]);return e};var kr=["webkit","ms","moz","Moz","o","O"];fr.dispatch=function(){for(var e=new M,t=-1,l=arguments.length;++t<l;)e[arguments[t]]=T(e);return e},M.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(0<=n&&(i=e.slice(n+1),e=e.slice(0,n)),e)return 2>arguments.length?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},fr.event=null,fr.requote=function(e){return e.replace(wr,"\\$&")};var wr=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sr={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Er=function(e,t){return t.querySelector(e)},Lr=function(e,t){return t.querySelectorAll(e)},Ar=function(e,t){var i=e.matches||e[j(e,"matchesSelector")];return Ar=function(e,t){return i.call(e,t)},Ar(e,t)};"function"==typeof Sizzle&&(Er=function(e,t){return Sizzle(e,t)[0]||null},Lr=Sizzle,Ar=Sizzle.matchesSelector),fr.selection=function(){return fr.select(f.documentElement)};var zr=fr.selection.prototype=[];zr.select=function(e){var t=[],l,a,r,o;e=D(e);for(var s=-1,d=this.length;++s<d;){t.push(l=[]),l.parentNode=(r=this[s]).parentNode;for(var p=-1,c=r.length;++p<c;)(o=r[p])?(l.push(a=e.call(o,o.__data__,p,s)),a&&"__data__"in o&&(a.__data__=o.__data__)):l.push(null)}return U(t)},zr.selectAll=function(e){var t=[],l,a;e=O(e);for(var r=-1,o=this.length;++r<o;)for(var s=this[r],d=-1,p=s.length;++d<p;)(a=s[d])&&(t.push(l=m(e.call(a,a.__data__,d,r))),l.parentNode=a);return U(t)};var jr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};fr.ns={prefix:jr,qualify:function(e){var t=e.indexOf(":"),n=e;return 0<=t&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),jr.hasOwnProperty(n)?{space:jr[n],local:e}:e}},zr.attr=function(e,t){if(2>arguments.length){if("string"==typeof e){var n=this.node();return e=fr.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(I(t,e[t]));return this}return this.each(I(e,t))},zr.classed=function(e,t){if(2>arguments.length){if("string"==typeof e){var l=this.node(),a=(e=Y(e)).length,n=-1;if(t=l.classList){for(;++n<a;)if(!t.contains(e[n]))return!1;}else for(t=l.getAttribute("class");++n<a;)if(!H(e[n]).test(t))return!1;return!0}for(t in e)this.each(Z(t,e[t]));return this}return this.each(Z(e,t))},zr.style=function(e,t,i){var a=arguments.length;if(3>a){if("string"!=typeof e){for(i in 2>a&&(t=""),e)this.each(B(i,e[i],t));return this}if(2>a){var n=this.node();return l(n).getComputedStyle(n,null).getPropertyValue(e)}i=""}return this.each(B(e,t,i))},zr.property=function(e,t){if(2>arguments.length){if("string"==typeof e)return this.node()[e];for(t in e)this.each(X(t,e[t]));return this}return this.each(X(e,t))},zr.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},zr.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},zr.append=function(e){return e=W(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},zr.insert=function(e,t){return e=W(e),t=D(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},zr.remove=function(){return this.each($)},zr.data=function(e,l){function a(e,a){var r=e.length,n=a.length,o=t(r,n),s=Array(n),d=Array(n),u=Array(r),h,y,m;if(l){var f=new _,x=Array(r),v;for(h=-1;++h<r;)(y=e[h])&&(f.has(v=l.call(y,y.__data__,h))?u[h]=y:f.set(v,y),x[h]=v);for(h=-1;++h<n;)(y=f.get(v=l.call(a,m=a[h],h)))?!0!==y&&(s[h]=y,y.__data__=m):d[h]=G(m),f.set(v,!0);for(h=-1;++h<r;)h in x&&!0!==f.get(x[h])&&(u[h]=e[h])}else{for(h=-1;++h<o;)y=e[h],m=a[h],y?(y.__data__=m,s[h]=y):d[h]=G(m);for(;h<n;++h)d[h]=G(a[h]);for(;h<r;++h)u[h]=e[h]}d.update=s,d.parentNode=s.parentNode=u.parentNode=e.parentNode,p.push(d),c.push(s),g.push(u)}var r=-1,o=this.length,s,d;if(!arguments.length){for(e=Array(o=(s=this[0]).length);++r<o;)(d=s[r])&&(e[r]=d.__data__);return e}var p=ee([]),c=U([]),g=U([]);if("function"==typeof e)for(;++r<o;)a(s=this[r],e.call(s,s.parentNode.__data__,r));else for(;++r<o;)a(s=this[r],e);return c.enter=function(){return p},c.exit=function(){return g},c},zr.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},zr.filter=function(e){var t=[],l,a,r;"function"!=typeof e&&(e=J(e));for(var o=0,s=this.length;o<s;o++){t.push(l=[]),l.parentNode=(a=this[o]).parentNode;for(var d=0,p=a.length;d<p;d++)(r=a[d])&&e.call(r,r.__data__,d,o)&&l.push(r)}return U(t)},zr.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n=this[e],l=n.length-1,a=n[l],r;0<=--l;)(r=n[l])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},zr.sort=function(e){e=K.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},zr.each=function(e){return Q(this,function(t,n,i){e.call(t,t.__data__,n,i)})},zr.call=function(e){var t=m(arguments);return e.apply(t[0]=this,t),this},zr.empty=function(){return!this.node()},zr.node=function(){for(var e=0,t=this.length;e<t;e++)for(var l=this[e],a=0,r=l.length,n;a<r;a++)if(n=l[a],n)return n;return null},zr.size=function(){var e=0;return Q(this,function(){++e}),e};var Fr=[];fr.selection.enter=ee,fr.selection.enter.prototype=Fr,Fr.append=zr.append,Fr.empty=zr.empty,Fr.node=zr.node,Fr.call=zr.call,Fr.size=zr.size,Fr.select=function(e){for(var t=[],l=-1,a=this.length,r,o,s,d,p;++l<a;){s=(d=this[l]).update,t.push(r=[]),r.parentNode=d.parentNode;for(var c=-1,g=d.length;++c<g;)(p=d[c])?(r.push(s[c]=o=e.call(d.parentNode,p.__data__,c,l)),o.__data__=p.__data__):r.push(null)}return U(t)},Fr.insert=function(e,t){return 2>arguments.length&&(t=te(this)),zr.insert.call(this,e,t)},fr.select=function(e){var t;return"string"==typeof e?(t=[Er(e,f)],t.parentNode=f.documentElement):(t=[e],t.parentNode=n(e)),U([t])},fr.selectAll=function(e){var t;return"string"==typeof e?(t=m(Lr(e,f)),t.parentNode=f.documentElement):(t=m(e),t.parentNode=null),U([t])},zr.on=function(e,t,i){var l=arguments.length;if(3>l){if("string"!=typeof e){for(i in 2>l&&(t=!1),e)this.each(ne(i,e[i],t));return this}if(2>l)return(l=this.node()["__on"+e])&&l._;i=!1}return this.each(ne(e,t,i))};var Mr=fr.map({mouseenter:"mouseover",mouseleave:"mouseout"});f&&Mr.forEach(function(e){"on"+e in f&&Mr.remove(e)});var Tr=0,Nr;fr.mouse=function(e){return re(e,R())};var Rr=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;fr.touch=function(e,t,l){if(3>arguments.length&&(l=t,t=R().changedTouches),t)for(var a=0,r=t.length,n;a<r;++a)if((n=t[a]).identifier===l)return re(e,n)},fr.behavior.drag=function(){function e(){this.on("mousedown.drag",a).on("touchstart.drag",r)}function t(e,t,l,a,r){return function(){function o(){var e=t(c,h),n,i;e&&(n=e[0]-x[0],i=e[1]-x[1],u|=n|i,x=e,g({type:"drag",x:e[0]+_[0],y:e[1]+_[1],dx:n,dy:i}))}function s(){t(c,h)&&(m.on(a+y,null).on(r+y,null),f(u),g({type:"dragend"}))}var d=this,p=fr.event.target.correspondingElement||fr.event.target,c=d.parentNode,g=n.of(d,arguments),u=0,h=e(),y=".drag"+(null==h?"":"-"+h),m=fr.select(l(p)).on(a+y,o).on(r+y,s),f=ae(p),x=t(c,h),_;i?(_=i.apply(d,arguments),_=[_.x-x[0],_.y-x[1]]):_=[0,0],g({type:"dragstart"})}}var n=P(e,"drag","dragstart","dragend"),i=null,a=t(F,fr.mouse,l,"mousemove","mouseup"),r=t(oe,fr.touch,A,"touchmove","touchend");return e.origin=function(t){return arguments.length?(i=t,e):i},fr.rebind(e,n,"on")},fr.touches=function(e,t){return 2>arguments.length&&(t=R().touches),t?m(t).map(function(t){var n=re(e,t);return n.identifier=t.identifier,n}):[]};var Pr=1e-6,Ur=Pr*Pr,Dr=ir,Or=2*Dr,Ir=Dr/2,qr=Dr/180,Hr=180/Dr,Yr=Qa,Zr=2,Vr=4;fr.interpolateZoom=function(e,t){var n=e[0],l=e[1],a=e[2],r=t[0],o=t[1],s=t[2],d=r-n,p=o-l,c=d*d+p*p,g,h;if(c<Ur)h=or(s/a)/Yr,g=function(e){return[n+e*d,l+e*p,a*hr(Yr*e*h)]};else{var y=pr(c),u=(s*s-a*a+Vr*c)/(2*a*Zr*y),m=(s*s-a*a-Vr*c)/(2*s*Zr*y),f=or(pr(u*u+1)-u),x=or(pr(m*m+1)-m);h=(x-f)/Yr,g=function(e){var t=e*h,i=ue(f),r=a/(Zr*y)*(i*he(Yr*t+f)-ge(f));return[n+r*d,l+r*p,a*i/ue(Yr*t+f)]}}return g.duration=1e3*h,g},fr.behavior.zoom=function(){function e(e){e.on("mousedown.zoom",u).on(Wr+".zoom",y).on("dblclick.zoom",m).on("touchstart.zoom",h)}function n(e){return[(e[0]-v.x)/v.k,(e[1]-v.y)/v.k]}function i(e){return[e[0]*v.k+v.x,e[1]*v.k+v.y]}function a(e){v.k=o(C[0],t(C[1],e))}function r(e,t){t=i(t),v.x+=e[0]-t[0],v.y+=e[1]-t[1]}function s(t,n,i,l){t.__chart__={x:v.x,y:v.y,k:v.k},a(sr(2,l)),r(A=n,i),t=fr.select(t),0<w&&(t=t.transition().duration(w)),t.call(e.event)}function d(){x&&x.domain(M.range().map(function(e){return(e-v.x)/v.k}).map(M.invert)),k&&k.domain(_.range().map(function(e){return(e-v.y)/v.k}).map(_.invert))}function p(e){S++||e({type:"zoomstart"})}function c(e){d(),e({type:"zoom",scale:v.k,translate:[v.x,v.y]})}function g(e){--S||(e({type:"zoomend"}),A=null)}function u(){function e(){o.on("mousemove.zoom",null).on("mouseup.zoom",null),d(a),g(i)}var t=this,i=E.of(t,arguments),a=0,o=fr.select(l(t)).on("mousemove.zoom",function(){a=1,r(fr.mouse(t),s),c(i)}).on("mouseup.zoom",e),s=n(fr.mouse(t)),d=ae(t);Us.call(t),p(i)}function h(){function e(){var e=fr.touches(d);return S=v.k,e.forEach(function(e){e.identifier in m&&(m[e.identifier]=n(e))}),e}function t(){var t=fr.event.target;fr.select(t).on(_,l).on(b,o),C.push(t);for(var a=fr.event.changedTouches,r=0,c=a.length;r<c;++r)m[a[r].identifier]=null;var n=e(),g=Date.now();if(1===n.length){if(500>g-F){var u=n[0];s(d,u,m[u.identifier],er(or(v.k)/tr)+1),N()}F=g}else if(1<n.length){var u=n[0],h=n[1],y=u[0]-h[0],x=u[1]-h[1];f=y*y+x*x}}function l(){var e=fr.touches(d),t,l,o,s;Us.call(d);for(var p=0,g=e.length;p<g;++p,s=null)if(o=e[p],s=m[o.identifier]){if(l)break;t=o,l=s}if(s){var n=(n=o[0]-t[0])*n+(n=o[1]-t[1])*n,u=f&&pr(n/f);t=[(t[0]+o[0])/2,(t[1]+o[1])/2],l=[(l[0]+s[0])/2,(l[1]+s[1])/2],a(u*S)}F=null,r(t,l),c(y)}function o(){if(fr.event.touches.length){for(var t=fr.event.changedTouches,l=0,a=t.length;l<a;++l)delete m[t[l].identifier];for(var n in m)return void e()}fr.selectAll(C).on(x,null),k.on("mousedown.zoom",u).on("touchstart.zoom",h),w(),g(y)}var d=this,y=E.of(d,arguments),m={},f=0,x=".zoom-"+fr.event.changedTouches[0].identifier,_="touchmove"+x,b="touchend"+x,C=[],k=fr.select(d),w=ae(d),S;t(),p(y),k.on("mousedown.zoom",null).on("touchstart.zoom",t)}function y(){var e=E.of(this,arguments);j?clearTimeout(j):(Us.call(this),L=n(A=z||fr.mouse(this)),p(e)),j=setTimeout(function(){j=null,g(e)},50),N(),a(sr(2,.002*Xr())*v.k),r(A,L),c(e)}function m(){var e=fr.mouse(this),t=or(v.k)/tr;s(this,e,n(e),fr.event.shiftKey?ar(t)-1:er(t)+1)}var v={x:0,y:0,k:1},b=[960,500],C=Br,w=250,S=0,E=P(e,"zoomstart","zoom","zoomend"),L,A,z,j,F,M,x,_,k;return Wr||(Wr="onwheel"in f?(Xr=function(){return-fr.event.deltaY*(fr.event.deltaMode?120:1)},"wheel"):"onmousewheel"in f?(Xr=function(){return fr.event.wheelDelta},"mousewheel"):(Xr=function(){return-fr.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=E.of(this,arguments),t=v;Is?fr.select(this).transition().each("start.zoom",function(){v=this.__chart__||{x:0,y:0,k:1},p(e)}).tween("zoom:zoom",function(){var n=b[0],l=b[1],a=A?A[0]:n/2,r=A?A[1]:l/2,o=fr.interpolateZoom([(a-v.x)/v.k,(r-v.y)/v.k,n/v.k],[(a-t.x)/t.k,(r-t.y)/t.k,n/t.k]);return function(i){var t=o(i),l=n/t[2];this.__chart__=v={x:a-t[0]*l,y:r-t[1]*l,k:l},c(e)}}).each("interrupt.zoom",function(){g(e)}).each("end.zoom",function(){g(e)}):(this.__chart__=v,p(e),c(e),g(e))})},e.translate=function(t){return arguments.length?(v={x:+t[0],y:+t[1],k:v.k},d(),e):[v.x,v.y]},e.scale=function(t){return arguments.length?(v={x:v.x,y:v.y,k:null},a(+t),d(),e):v.k},e.scaleExtent=function(t){return arguments.length?(C=null==t?Br:[+t[0],+t[1]],e):C},e.center=function(t){return arguments.length?(z=t&&[+t[0],+t[1]],e):z},e.size=function(t){return arguments.length?(b=t&&[+t[0],+t[1]],e):b},e.duration=function(t){return arguments.length?(w=+t,e):w},e.x=function(t){return arguments.length?(x=t,M=t.copy(),v={x:0,y:0,k:1},e):x},e.y=function(t){return arguments.length?(k=t,_=t.copy(),v={x:0,y:0,k:1},e):k},fr.rebind(e,E,"on")};var Br=[0,1/0],Xr,Wr;fr.color=me,me.prototype.toString=function(){return this.rgb()+""},fr.hsl=fe;var $r=fe.prototype=new me;$r.brighter=function(e){return e=sr(.7,arguments.length?e:1),new fe(this.h,this.s,this.l/e)},$r.darker=function(e){return e=sr(.7,arguments.length?e:1),new fe(this.h,this.s,e*this.l)},$r.rgb=function(){return xe(this.h,this.s,this.l)},fr.hcl=_e;var Gr=_e.prototype=new me;Gr.brighter=function(e){return new _e(this.h,this.c,t(100,this.l+Jr*(arguments.length?e:1)))},Gr.darker=function(e){return new _e(this.h,this.c,o(0,this.l-Jr*(arguments.length?e:1)))},Gr.rgb=function(){return ve(this.h,this.c,this.l).rgb()},fr.lab=be;var Jr=18,Kr=.95047,Qr=1.08883,eo=be.prototype=new me;eo.brighter=function(e){return new be(t(100,this.l+18*(arguments.length?e:1)),this.a,this.b)},eo.darker=function(e){return new be(o(0,this.l-18*(arguments.length?e:1)),this.a,this.b)},eo.rgb=function(){return Ce(this.l,this.a,this.b)},fr.rgb=Le;var to=Le.prototype=new me;to.brighter=function(e){e=sr(.7,arguments.length?e:1);var n=this.r,i=this.g,l=this.b;return n||i||l?(n&&30>n&&(n=30),i&&30>i&&(i=30),l&&30>l&&(l=30),new Le(t(255,n/e),t(255,i/e),t(255,l/e))):new Le(30,30,30)},to.darker=function(e){return e=sr(.7,arguments.length?e:1),new Le(e*this.r,e*this.g,e*this.b)},to.hsl=function(){return Me(this.r,this.g,this.b)},to.toString=function(){return"#"+je(this.r)+je(this.g)+je(this.b)};var no=fr.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});no.forEach(function(e,t){no.set(e,Ae(t))}),fr.functor=Pe,fr.xhr=Ue(A),fr.dsv=function(e,t){function n(e,n,a){3>arguments.length&&(a=n,n=null);var r=De(e,t,null==n?i:l(n),a);return r.row=function(e){return arguments.length?r.response(null==(n=e)?i:l(e)):n},r}function i(e){return n.parse(e.responseText)}function l(e){return function(t){return n.parse(t.responseText,e)}}function a(t){return t.map(r).join(e)}function r(e){return o.test(e)?"\""+e.replace(/\"/g,"\"\"")+"\"":e}var o=new RegExp("[\""+e+"\n]"),s=e.charCodeAt(0);return n.parse=function(e,t){var l;return n.parseRows(e,function(e,n){if(l)return l(e,n-1);var r=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");l=t?function(e,n){return t(r(e),n)}:r})},n.parseRows=function(e,i){function l(){if(g>=p)return o;if(h)return h=!1,r;var t=g;if(34===e.charCodeAt(t)){for(var n=t;n++<p;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}g=n+2;var l=e.charCodeAt(n+1);return 13===l?(h=!0,10===e.charCodeAt(n+2)&&++g):10===l&&(h=!0),e.slice(t+1,n).replace(/""/g,"\"")}for(;g<p;){var l=e.charCodeAt(g++),a=1;if(10===l)h=!0;else if(13===l)h=!0,10===e.charCodeAt(g)&&(++g,++a);else if(l!==s)continue;return e.slice(t,g-a)}return e.slice(t)}for(var r={},o={},d=[],p=e.length,g=0,c=0,u,h;(u=l())!==o;){for(var y=[];u!==r&&u!==o;)y.push(u),u=l();i&&null==(y=i(y,c++))||d.push(y)}return d},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var i=new L,l=[];return t.forEach(function(e){for(var t in e)i.has(t)||l.push(i.add(t))}),[l.map(r).join(e)].concat(t.map(function(t){return l.map(function(e){return r(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(a).join("\n")},n},fr.csv=fr.dsv(",","text/csv"),fr.tsv=fr.dsv("\t","text/tab-separated-values");var io=this[j(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)},lo,ao,ro,oo;fr.timer=function(){qe.apply(this,arguments)},fr.timer.flush=function(){Ye(),Ze()},fr.round=function(e,t){return t?s(e*(t=sr(10,t)))/t:s(e)};var so=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=sr(10,3*Cr(8-t));return{scale:8<t?function(e){return e/n}:function(e){return e*n},symbol:e}});fr.formatPrefix=function(e,n){var l=0;return(e=+e)&&(0>e&&(e*=-1),n&&(e=fr.round(e,Ve(e,n))),l=1+er(1e-12+or(e)/rr),l=o(-24,t(24,3*er((l-1)/3)))),so[8+l/3]};var po=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,co=fr.map({b:function(e){return e.toString(2)},c:function(e){var t=String.fromCharCode;return t(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,n){return(e=fr.round(e,Ve(e,n))).toFixed(o(0,t(20,Ve(e*(1+1e-15),n))))}}),go=fr.time={},uo=Date;We.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ho.setUTCDate.apply(this._,arguments)},setDay:function(){ho.setUTCDay.apply(this._,arguments)},setFullYear:function(){ho.setUTCFullYear.apply(this._,arguments)},setHours:function(){ho.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ho.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ho.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ho.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ho.setUTCSeconds.apply(this._,arguments)},setTime:function(){ho.setTime.apply(this._,arguments)}};var ho=Date.prototype;go.year=$e(function(e){return e=go.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),go.years=go.year.range,go.years.utc=go.year.utc.range,go.day=$e(function(e){var t=new uo(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),go.days=go.day.range,go.days.utc=go.day.utc.range,go.dayOfYear=function(e){var t=go.year(e);return er((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=go[e]=$e(function(e){return(e=go.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*er(t))},function(e){var n=go.year(e).getDay();return er((go.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});go[e+"s"]=n.range,go[e+"s"].utc=n.utc.range,go[e+"OfYear"]=function(e){var n=go.year(e).getDay();return er((go.dayOfYear(e)+(n+t)%7)/7)}}),go.week=go.sunday,go.weeks=go.sunday.range,go.weeks.utc=go.sunday.utc.range,go.weekOfYear=go.sundayOfYear;var yo={"-":"",_:" ",0:"0"},mo=/^\s*\d+/,fo=/^%/;fr.locale=function(e){return{numberFormat:Be(e),timeFormat:Je(e)}};var xo=fr.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});fr.format=xo.numberFormat,fr.geo={},xt.prototype={s:0,t:0,add:function(e){_t(e,this.t,_o),_t(_o.s,this.s,this),this.s?this.t+=_o.t:this.s=_o.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var _o=new xt;fr.geo.stream=function(e,t){e&&vo.hasOwnProperty(e.type)?vo[e.type](e,t):vt(e,t)};var vo={Feature:function(e,t){vt(e.geometry,t)},FeatureCollection:function(e,t){for(var l=e.features,a=-1,r=l.length;++a<r;)vt(l[a].geometry,t)}},bo={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var l=e.coordinates,a=-1,r=l.length;++a<r;)e=l[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){bt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var l=e.coordinates,a=-1,r=l.length;++a<r;)bt(l[a],t,0)},Polygon:function(e,t){Ct(e.coordinates,t)},MultiPolygon:function(e,t){for(var l=e.coordinates,a=-1,r=l.length;++a<r;)Ct(l[a],t)},GeometryCollection:function(e,t){for(var l=e.geometries,a=-1,r=l.length;++a<r;)vt(l[a],t)}};fr.geo.area=function(e){return wo=0,fr.geo.stream(e,ko),wo};var Co=new xt,ko={sphere:function(){wo+=4*Dr},point:F,lineStart:F,lineEnd:F,polygonStart:function(){Co.reset(),ko.lineStart=kt},polygonEnd:function(){var e=2*Co;wo+=0>e?4*Dr+e:e,ko.lineStart=ko.lineEnd=ko.point=F}},wo;fr.geo.bounds=function(){function e(e,t){v.push(C=[c=e,u=e]),t<g&&(g=t),t>h&&(h=t)}function t(t,n){var i=wt([t*qr,n*qr]);if(x){var l=Et(x,i),a=[l[1],-l[0],0],r=Et(a,l);zt(r),r=jt(r);var d=t-y,p=0<d?1:-1,s=r[0]*Hr*p,m=180<Cr(d);if(m^(p*y<s&&s<p*t)){var f=r[1]*Hr;f>h&&(h=f)}else if(s=(s+360)%360-180,m^(p*y<s&&s<p*t)){var f=-r[1]*Hr;f<g&&(g=f)}else n<g&&(g=n),n>h&&(h=n);m?t<y?o(c,t)>o(c,u)&&(u=t):o(t,u)>o(c,u)&&(c=t):u>=c?(t<c&&(c=t),t>u&&(u=t)):t>y?o(c,t)>o(c,u)&&(u=t):o(t,u)>o(c,u)&&(c=t)}else e(t,n);x=i,y=t}function n(){p.point=t}function i(){C[0]=c,C[1]=u,p.point=e,x=null}function l(e,n){if(x){var i=e-y;_+=180<Cr(i)?i+(0<i?360:-360):i}else m=e,f=n;ko.point(e,n),t(e,n)}function a(){ko.lineStart()}function r(){l(m,f),ko.lineEnd(),Cr(_)>Pr&&(c=-(u=180)),C[0]=c,C[1]=u,x=null}function o(e,t){return 0>(t-=e)?t+360:t}function s(e,t){return e[0]-t[0]}function d(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var p={point:e,lineStart:n,lineEnd:i,polygonStart:function(){p.point=l,p.lineStart=a,p.lineEnd=r,_=0,ko.polygonStart()},polygonEnd:function(){ko.polygonEnd(),p.point=e,p.lineStart=n,p.lineEnd=i,0>Co?(c=-(u=180),g=-(h=90)):_>Pr?h=90:_<-Pr&&(g=-90),C[0]=c,C[1]=u}},c,g,u,h,y,m,f,x,_,v,C;return function(e){h=u=-(c=g=1/0),v=[],fr.geo.stream(e,p);var t=v.length;if(t){v.sort(s);for(var l=1,r=v[0],y=[r],m;l<t;++l)m=v[l],d(m[0],r)||d(m[1],r)?(o(r[0],m[1])>o(r[0],r[1])&&(r[1]=m[1]),o(m[0],r[1])>o(r[0],r[1])&&(r[0]=m[0])):y.push(r=m);for(var f=-Infinity,t=y.length-1,l=0,r=y[t],x,m;l<=t;r=m,++l)m=y[l],(x=o(r[1],m[0]))>f&&(f=x,c=m[0],u=r[1])}return v=C=null,c===1/0||g===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,g],[u,h]]}}(),fr.geo.centroid=function(e){Lo=Ao=zo=jo=Fo=Mo=To=No=Ro=Po=Uo=0,fr.geo.stream(e,So);var t=Ro,n=Po,i=Uo,l=t*t+n*n+i*i;return l<Ur&&(t=Mo,n=To,i=No,Ao<Pr&&(t=zo,n=jo,i=Fo),l=t*t+n*n+i*i,l<Ur)?[NaN,NaN]:[cr(n,t)*Hr,ce(i/pr(l))*Hr]};var So={sphere:F,point:Mt,lineStart:Nt,lineEnd:Rt,polygonStart:function(){So.lineStart=Pt},polygonEnd:function(){So.lineStart=Nt}},Eo=Ht(Dt,function(e){var t=NaN,n=NaN,i=NaN,l;return{lineStart:function(){e.lineStart(),l=1},point:function(a,r){var o=0<a?Dr:-Dr,s=Cr(a-t);Cr(s-Dr)<Pr?(e.point(t,n=0<(n+r)/2?Ir:-Ir),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),l=0):i!==o&&s>=Dr&&(Cr(t-i)<Pr&&(t-=i*Pr),Cr(a-o)<Pr&&(a-=o*Pr),n=Bt(t,n,a,r),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(o,n),l=0),e.point(t=a,n=r),i=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-l}}},function(e,t,n,i){var l;if(null==e)l=n*Ir,i.point(-Dr,l),i.point(0,l),i.point(Dr,l),i.point(Dr,0),i.point(Dr,-l),i.point(0,-l),i.point(-Dr,-l),i.point(-Dr,0),i.point(-Dr,l);else if(Cr(e[0]-t[0])>Pr){var a=e[0]<t[0]?Dr:-Dr;l=n*a/2,i.point(-a,l),i.point(0,l),i.point(a,l)}else i.point(t[0],t[1])},[-Dr,-Dr/2]),Lo,Ao,zo,jo,Fo,Mo,To,No,Ro,Po,Uo;fr.geo.clipExtent=function(){var e={stream:function(e){return a&&(a.valid=!1),a=r(e),a.valid=!0,a},extent:function(o){return arguments.length?(r=Gt(t=+o[0][0],n=+o[0][1],i=+o[1][0],l=+o[1][1]),a&&(a.valid=!1,a=null),e):[[t,n],[i,l]]}},t,n,i,l,a,r;return e.extent([[0,0],[960,500]])},(fr.geo.conicEqualArea=function(){return Jt(Kt)}).raw=Kt,fr.geo.albers=function(){return fr.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},fr.geo.albersUsa=function(){function e(e){var t=e[0],n=e[1];return r=null,(o(t,n),r)||(s(t,n),r)||d(t,n),r}var n=fr.geo.albers(),i=fr.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=fr.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a={point:function(e,t){r=[e,t]}},r,o,s,d;return e.invert=function(e){var a=n.scale(),r=n.translate(),t=(e[0]-r[0])/a,o=(e[1]-r[1])/a;return(.12<=o&&.234>o&&-.425<=t&&-.214>t?i:.166<=o&&.234>o&&-.214<=t&&-.115>t?l:n).invert(e)},e.stream=function(e){var t=n.stream(e),a=i.stream(e),r=l.stream(e);return{point:function(e,n){t.point(e,n),a.point(e,n),r.point(e,n)},sphere:function(){t.sphere(),a.sphere(),r.sphere()},lineStart:function(){t.lineStart(),a.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),a.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),a.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),a.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(n.precision(t),i.precision(t),l.precision(t),e):n.precision()},e.scale=function(t){return arguments.length?(n.scale(t),i.scale(.35*t),l.scale(t),e.translate(n.translate())):n.scale()},e.translate=function(t){if(!arguments.length)return n.translate();var r=n.scale(),p=+t[0],c=+t[1];return o=n.translate(t).clipExtent([[p-.455*r,c-.238*r],[p+.455*r,c+.238*r]]).stream(a).point,s=i.translate([p-.307*r,c+.201*r]).clipExtent([[p-.425*r+Pr,c+.12*r+Pr],[p-.214*r-Pr,c+.234*r-Pr]]).stream(a).point,d=l.translate([p-.205*r,c+.212*r]).clipExtent([[p-.214*r+Pr,c+.166*r+Pr],[p-.115*r-Pr,c+.234*r-Pr]]).stream(a).point,e},e.scale(1070)};var Do={point:F,lineStart:F,lineEnd:F,polygonStart:function(){Ho=0,Do.lineStart=Qt},polygonEnd:function(){Do.lineStart=Do.lineEnd=Do.point=F,qo+=Cr(Ho/2)}},Oo={point:en,lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F},Io={point:ln,lineStart:an,lineEnd:rn,polygonStart:function(){Io.lineStart=on},polygonEnd:function(){Io.point=ln,Io.lineStart=an,Io.lineEnd=rn}},qo,Ho,Yo,Zo,Vo,Bo;fr.geo.path=function(){function e(e){return e&&("function"==typeof n&&r.pointRadius(+n.apply(this,arguments)),(!o||!o.valid)&&(o=a(r)),fr.geo.stream(e,o)),r.result()}function t(){return o=null,e}var n=4.5,i,l,a,r,o;return e.area=function(e){return qo=0,fr.geo.stream(e,a(Do)),qo},e.centroid=function(e){return zo=jo=Fo=Mo=To=No=Ro=Po=Uo=0,fr.geo.stream(e,a(Io)),Uo?[Ro/Uo,Po/Uo]:No?[Mo/No,To/No]:Fo?[zo/Fo,jo/Fo]:[NaN,NaN]},e.bounds=function(e){return Vo=Bo=-(Yo=Zo=1/0),fr.geo.stream(e,a(Oo)),[[Yo,Zo],[Vo,Bo]]},e.projection=function(e){return arguments.length?(a=(i=e)?e.stream||pn(e):A,t()):i},e.context=function(e){return arguments.length?(r=null==(l=e)?new tn:new sn(e),"function"!=typeof n&&r.pointRadius(n),t()):l},e.pointRadius=function(t){return arguments.length?(n="function"==typeof t?t:(r.pointRadius(+t),+t),e):n},e.projection(fr.geo.albersUsa()).context(null)},fr.geo.transform=function(e){return{stream:function(t){var n=new cn(t);for(var i in e)n[i]=e[i];return n}}},cn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},fr.geo.projection=un,fr.geo.projectionMutator=hn,(fr.geo.equirectangular=function(){return un(mn)}).raw=mn.invert=mn,fr.geo.rotation=function(e){function t(t){return t=e(t[0]*qr,t[1]*qr),t[0]*=Hr,t[1]*=Hr,t}return e=xn(e[0]%360*qr,e[1]*qr,2<e.length?e[2]*qr:0),t.invert=function(t){return t=e.invert(t[0]*qr,t[1]*qr),t[0]*=Hr,t[1]*=Hr,t},t},fn.invert=mn,fr.geo.circle=function(){function e(){var e="function"==typeof t?t.apply(this,arguments):t,n=xn(-e[0]*qr,-e[1]*qr,0).invert,i=[];return l(null,null,1,{point:function(e,t){i.push(e=n(e,t)),e[0]*=Hr,e[1]*=Hr}}),{type:"Polygon",coordinates:[i]}}var t=[0,0],n=6,i,l;return e.origin=function(n){return arguments.length?(t=n,e):t},e.angle=function(t){return arguments.length?(l=Cn((i=+t)*qr,n*qr),e):i},e.precision=function(t){return arguments.length?(l=Cn(i*qr,(n=+t)*qr),e):n},e.angle(90)},fr.geo.distance=function(e,n){var i=(n[0]-e[0])*qr,l=e[1]*qr,a=n[1]*qr,r=ur(i),o=gr(i),s=ur(l),d=gr(l),p=ur(a),c=gr(a),g;return cr(pr((g=c*r)*g+(g=d*p-s*c*o)*g),s*p+d*c*o)},fr.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return fr.range(ar(p/l)*l,d,l).map(v).concat(fr.range(ar(h/a)*a,u,a).map(b)).concat(fr.range(ar(s/n)*n,o,n).filter(function(e){return Cr(e%l)>Pr}).map(m)).concat(fr.range(ar(g/i)*i,c,i).filter(function(e){return Cr(e%a)>Pr}).map(f))}var n=10,i=n,l=90,a=360,r=2.5,o,s,d,p,c,g,u,h,m,f,v,b;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[v(p).concat(b(u).slice(1),v(d).reverse().slice(1),b(h).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(p=+t[0][0],d=+t[1][0],h=+t[0][1],u=+t[1][1],p>d&&(t=p,p=d,d=t),h>u&&(t=h,h=u,u=t),e.precision(r)):[[p,h],[d,u]]},e.minorExtent=function(t){return arguments.length?(s=+t[0][0],o=+t[1][0],g=+t[0][1],c=+t[1][1],s>o&&(t=s,s=o,o=t),g>c&&(t=g,g=c,c=t),e.precision(r)):[[s,g],[o,c]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(l=+t[0],a=+t[1],e):[l,a]},e.minorStep=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.precision=function(t){return arguments.length?(r=+t,m=wn(g,c,90),f=Sn(s,o,r),v=wn(h,u,90),b=Sn(p,d,r),e):r},e.majorExtent([[-180,-90+Pr],[180,90-Pr]]).minorExtent([[-180,-80-Pr],[180,80+Pr]])},fr.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[i||t.apply(this,arguments),l||n.apply(this,arguments)]}}var t=En,n=Ln,i,l;return e.distance=function(){return fr.geo.distance(i||t.apply(this,arguments),l||n.apply(this,arguments))},e.source=function(n){return arguments.length?(t=n,i="function"==typeof n?null:n,e):t},e.target=function(t){return arguments.length?(n=t,l="function"==typeof t?null:t,e):n},e.precision=function(){return arguments.length?e:0},e},fr.geo.interpolate=function(e,t){return An(e[0]*qr,e[1]*qr,t[0]*qr,t[1]*qr)},fr.geo.length=function(e){return $o=0,fr.geo.stream(e,Xo),$o};var Xo={sphere:F,point:F,lineStart:function(){function e(e,a){var r=ur(a*=qr),o=gr(a),s=Cr((e*=qr)-n),d=gr(s);$o+=cr(pr((s=o*ur(s))*s+(s=l*r-i*o*d)*s),i*r+l*o*d),n=e,i=r,l=o}var n,i,l;Xo.point=function(t,a){n=t*qr,i=ur(a*=qr),l=gr(a),Xo.point=e},Xo.lineEnd=function(){Xo.point=Xo.lineEnd=F}},lineEnd:F,polygonStart:F,polygonEnd:F},Wo=zn(function(e){return pr(2/(1+e))},function(e){return 2*yr(e/2)}),$o;(fr.geo.azimuthalEqualArea=function(){return un(Wo)}).raw=Wo;var Go=zn(function(e){var t=mr(e);return t&&t/ur(t)},A);(fr.geo.azimuthalEquidistant=function(){return un(Go)}).raw=Go,(fr.geo.conicConformal=function(){return Jt(jn)}).raw=jn,(fr.geo.conicEquidistant=function(){return Jt(Fn)}).raw=Fn;var Jo=zn(function(e){return 1/e},Math.atan);(fr.geo.gnomonic=function(){return un(Jo)}).raw=Jo,Mn.invert=function(e,t){return[e,2*lr(hr(t))-Ir]},(fr.geo.mercator=function(){return Tn(Mn)}).raw=Mn;var Ko=zn(function(){return 1},Math.asin);(fr.geo.orthographic=function(){return un(Ko)}).raw=Ko;var Qo=zn(function(e){return 1/(1+e)},function(e){return 2*lr(e)});(fr.geo.stereographic=function(){return un(Qo)}).raw=Qo,Nn.invert=function(e,t){return[-t,2*lr(hr(e))-Ir]},(fr.geo.transverseMercator=function(){var e=Tn(Nn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],2<e.length?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Nn,fr.geom={},fr.geom.hull=function(e){function t(e){if(3>e.length)return[];var t=Pe(l),r=Pe(a),o=e.length,n=[],s=[],d;for(d=0;d<o;d++)n.push([+t.call(this,e[d],d),+r.call(this,e[d],d),d]);for(n.sort(Dn),d=0;d<o;d++)s.push([n[d][0],-n[d][1]]);var p=Un(n),c=Un(s),g=c[0]===p[0],u=c[c.length-1]===p[p.length-1],h=[];for(d=p.length-1;0<=d;--d)h.push(e[n[p[d]][2]]);for(d=+g;d<c.length-u;++d)h.push(e[n[c[d]][2]]);return h}var l=Rn,a=Pn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(l=e,t):l},t.y=function(e){return arguments.length?(a=e,t):a},t)},fr.geom.polygon=function(e){return Sr(e,es),e};var es=fr.geom.polygon.prototype=[];es.area=function(){for(var e=-1,t=this.length,n=this[t-1],l=0,r;++e<t;)r=n,n=this[e],l+=r[1]*n[0]-r[0]*n[1];return .5*l},es.centroid=function(e){var t=-1,l=this.length,n=0,r=0,o=this[l-1],s,d;for(arguments.length||(e=-1/(6*this.area()));++t<l;)s=o,o=this[t],d=s[0]*o[1]-o[0]*s[1],n+=(s[0]+o[0])*d,r+=(s[1]+o[1])*d;return[n*e,r*e]},es.clip=function(e){for(var t=qn(e),l=-1,r=this.length-qn(this),n=this[r-1],o,s,p,g,u,h;++l<r;){for(o=e.slice(),e.length=0,g=this[l],u=o[(p=o.length-t)-1],s=-1;++s<p;)h=o[s],On(h,n,g)?(!On(u,n,g)&&e.push(In(u,h,n,g)),e.push(h)):On(u,n,g)&&e.push(In(u,h,n,g)),u=h;t&&e.push(e[0]),n=g}return e};var ts=[],ns=[],is,ls,as,rs,os;$n.prototype.prepare=function(){for(var e=this.edges,t=e.length,n;t--;)n=e[t].edge,n.b&&n.a||e.splice(t,1);return e.sort(Jn),e.length},oi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},si.prototype={insert:function(e,t){var n,i,l;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=gi(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)i=n.U,n===i.L?(l=i.R,l&&l.C?(n.C=l.C=!1,i.C=!0,e=i):(e===n.R&&(pi(this,n),e=n,n=e.U),n.C=!1,i.C=!0,ci(this,i))):(l=i.L,l&&l.C?(n.C=l.C=!1,i.C=!0,e=i):(e===n.L&&(ci(this,n),e=n,n=e.U),n.C=!1,i.C=!0,pi(this,i))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,n=e.L,i=e.R,l,a,r;if(a=n?i?gi(i):n:i,t?t.L===e?t.L=a:t.R=a:this._=a,n&&i?(r=a.C,a.C=e.C,a.L=n,n.U=a,a===i?(a.U=t,t=a,e=a.R):(t=a.U,a.U=e.U,e=a.R,t.L=e,a.R=i,i.U=a)):(r=e.C,e=a),e&&(e.U=t),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===t.L){if(l=t.R,l.C&&(l.C=!1,t.C=!0,pi(this,t),l=t.R),l.L&&l.L.C||l.R&&l.R.C){l.R&&l.R.C||(l.L.C=!1,l.C=!0,ci(this,l),l=t.R),l.C=t.C,t.C=l.R.C=!1,pi(this,t),e=this._;break}}else if(l=t.L,l.C&&(l.C=!1,t.C=!0,ci(this,t),l=t.L),l.L&&l.L.C||l.R&&l.R.C){l.L&&l.L.C||(l.R.C=!1,l.C=!0,pi(this,l),l=t.L),l.C=t.C,t.C=l.L.C=!1,ci(this,t),e=this._;break}l.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}},fr.geom.voronoi=function(e){function t(e){var t=Array(e.length),l=o[0][0],a=o[0][1],r=o[1][0],s=o[1][1];return ui(n(e),o).cells.forEach(function(n,o){var i=n.edges,d=n.site,p=t[o]=i.length?i.map(function(t){var e=t.start();return[e.x,e.y]}):d.x>=l&&d.x<=r&&d.y>=a&&d.y<=s?[[l,s],[r,s],[r,a],[l,a]]:[];p.point=e[o]}),t}function n(e){return e.map(function(e,t){return{x:s(a(e,t)/Pr)*Pr,y:s(r(e,t)/Pr)*Pr,i:t}})}var i=Rn,l=Pn,a=i,r=l,o=ss;return e?t(e):(t.links=function(e){return ui(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return ui(n(e)).cells.forEach(function(n,l){for(var i=n.site,a=n.edges.sort(Jn),r=-1,o=a.length,s=a[o-1].edge,d=s.l===i?s.r:s.l,p,c;++r<o;)p=s,c=d,s=a[r].edge,d=s.l===i?s.r:s.l,l<c.i&&l<d.i&&0>yi(i,c,d)&&t.push([e[l],e[c.i],e[d.i]])}),t},t.x=function(e){return arguments.length?(a=Pe(i=e),t):i},t.y=function(e){return arguments.length?(r=Pe(l=e),t):l},t.clipExtent=function(e){return arguments.length?(o=null==e?ss:e,t):o===ss?null:o},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):o===ss?null:o&&o[1]},t)};var ss=[[-1e6,-1e6],[1e6,1e6]];fr.geom.delaunay=function(e){return fr.geom.voronoi().triangles(e)},fr.geom.quadtree=function(e,t,l,a,r){function n(e){function c(e,t,n,i,l,a,r,o){if(!(isNaN(n)||isNaN(i)))if(e.leaf){var s=e.x,d=e.y;if(null==s)e.x=n,e.y=i,e.point=t;else if(.01>Cr(s-n)+Cr(d-i))g(e,t,n,i,l,a,r,o);else{var p=e.point;e.x=e.y=e.point=null,g(e,p,s,d,l,a,r,o),g(e,t,n,i,l,a,r,o)}}else g(e,t,n,i,l,a,r,o)}function g(e,t,l,a,r,o,s,d){var p=.5*(r+s),g=.5*(o+d),u=l>=p,h=a>=g,y=h<<1|u;e.leaf=!1,e=e.nodes[y]||(e.nodes[y]=xi()),u?r=p:s=p,h?o=g:d=g,c(e,t,l,a,r,o,s,d)}var u=Pe(o),h=Pe(s),y,m,f,x,_,v,b,C,k;if(null!=t)v=t,b=l,C=a,k=r;else if(C=k=-(v=b=1/0),m=[],f=[],_=e.length,p)for(x=0;x<_;++x)y=e[x],y.x<v&&(v=y.x),y.y<b&&(b=y.y),y.x>C&&(C=y.x),y.y>k&&(k=y.y),m.push(y.x),f.push(y.y);else for(x=0;x<_;++x){var w=+u(y=e[x],x),S=+h(y,x);w<v&&(v=w),S<b&&(b=S),w>C&&(C=w),S>k&&(k=S),m.push(w),f.push(S)}var E=C-v,L=k-b;E>L?k=b+E:C=v+L;var A=xi();if(A.add=function(e){c(A,e,+u(e,++x),+h(e,x),v,b,C,k)},A.visit=function(e){_i(e,A,v,b,C,k)},A.find=function(e){return vi(A,e[0],e[1],v,b,C,k)},x=-1,null==t){for(;++x<_;)c(A,e[x],m[x],f[x],v,b,C,k);--x}else e.forEach(A.add);return m=f=e=y=null,A}var o=Rn,s=Pn,p;return(p=arguments.length)?(o=mi,s=fi,3===p&&(r=l,a=t,l=t=0),n(e)):(n.x=function(e){return arguments.length?(o=e,n):o},n.y=function(e){return arguments.length?(s=e,n):s},n.extent=function(e){return arguments.length?(null==e?t=l=a=r=null:(t=+e[0][0],l=+e[0][1],a=+e[1][0],r=+e[1][1]),n):null==t?null:[[t,l],[a,r]]},n.size=function(e){return arguments.length?(null==e?t=l=a=r=null:(t=l=0,a=+e[0],r=+e[1]),n):null==t?null:[a-t,r-l]},n)},fr.interpolateRgb=bi,fr.interpolateObject=Ci,fr.interpolateNumber=ki,fr.interpolateString=wi;var ds=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ps=new RegExp(ds.source,"g");fr.interpolate=Si,fr.interpolators=[function(e,n){var i=typeof n;return("string"==i?no.has(n.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(n)?bi:wi:n instanceof me?bi:Array.isArray(n)?Ei:"object"==i&&isNaN(n)?Ci:ki)(e,n)}],fr.interpolateArray=Ei;var cs=function(){return A},gs=fr.map({linear:cs,poly:function(n){return function(e){return sr(e,n)}},quad:function(){return ji},cubic:function(){return Fi},sin:function(){return Ti},exp:function(){return Ni},circle:function(){return Ri},elastic:function(e,n){var i;return 2>arguments.length&&(n=.45),arguments.length?i=n/Or*yr(1/e):(e=1,i=n/4),function(l){return 1+e*sr(2,-10*l)*ur((l-i)*Or/n)}},back:function(e){return e||(e=1.70158),function(n){return n*n*((e+1)*n-e)}},bounce:function(){return Pi}}),us=fr.map({in:A,out:Ai,"in-out":zi,"out-in":function(e){return zi(Ai(e))}});fr.ease=function(e){var n=e.indexOf("-"),i=0<=n?e.slice(0,n):e,l=0<=n?e.slice(n+1):"in";return i=gs.get(i)||cs,l=us.get(l)||A,Li(l(i.apply(null,a.call(arguments,1))))},fr.interpolateHcl=function(e,t){e=fr.hcl(e),t=fr.hcl(t);var n=e.h,i=e.c,l=e.l,r=t.h-n,o=t.c-i,s=t.l-l;return isNaN(o)&&(o=0,i=isNaN(i)?t.c:i),isNaN(r)?(r=0,n=isNaN(n)?t.h:n):180<r?r-=360:-180>r&&(r+=360),function(e){return ve(n+r*e,i+o*e,l+s*e)+""}},fr.interpolateHsl=function(e,t){e=fr.hsl(e),t=fr.hsl(t);var n=e.h,i=e.s,l=e.l,r=t.h-n,o=t.s-i,s=t.l-l;return isNaN(o)&&(o=0,i=isNaN(i)?t.s:i),isNaN(r)?(r=0,n=isNaN(n)?t.h:n):180<r?r-=360:-180>r&&(r+=360),function(e){return xe(n+r*e,i+o*e,l+s*e)+""}},fr.interpolateLab=function(e,t){e=fr.lab(e),t=fr.lab(t);var n=e.l,i=e.a,l=e.b,r=t.l-n,o=t.a-i,s=t.b-l;return function(e){return Ce(n+r*e,i+o*e,l+s*e)+""}},fr.interpolateRound=Ui,fr.transform=function(e){var t=f.createElementNS(fr.ns.prefix.svg,"g");return(fr.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Di(n?n.matrix:hs)})(e)},Di.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hs={a:1,b:0,c:0,d:1,e:0,f:0};fr.interpolateTransform=Xi,fr.layout={},fr.layout.bundle=function(){return function(e){for(var t=[],l=-1,a=e.length;++l<a;)t.push(Gi(e[l]));return t}},fr.layout.chord=function(){function e(){var e={},n=[],g=fr.range(s),u=[],h,y,m,f,_;for(a=[],r=[],h=0,f=-1;++f<s;){for(y=0,_=-1;++_<s;)y+=o[f][_];n.push(y),u.push(fr.range(s)),h+=y}for(d&&g.sort(function(e,t){return d(n[e],n[t])}),p&&u.forEach(function(e,t){e.sort(function(e,n){return p(o[t][e],o[t][n])})}),h=(Or-l*s)/h,y=0,f=-1;++f<s;){for(m=y,_=-1;++_<s;){var b=g[f],C=u[b][_],w=o[b][C],v=y,S=y+=w*h;e[b+"-"+C]={index:b,subindex:C,startAngle:v,endAngle:S,value:w}}r[b]={index:b,startAngle:m,endAngle:y,value:n[b]},y+=l}for(f=-1;++f<s;)for(_=f-1;++_<s;){var E=e[f+"-"+_],L=e[_+"-"+f];(E.value||L.value)&&a.push(E.value<L.value?{source:L,target:E}:{source:E,target:L})}c&&t()}function t(){a.sort(function(e,t){return c((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var i={},l=0,a,r,o,s,d,p,c;return i.matrix=function(e){return arguments.length?(s=(o=e)&&o.length,a=r=null,i):o},i.padding=function(e){return arguments.length?(l=e,a=r=null,i):l},i.sortGroups=function(e){return arguments.length?(d=e,a=r=null,i):d},i.sortSubgroups=function(e){return arguments.length?(p=e,a=null,i):p},i.sortChords=function(e){return arguments.length?(c=e,a&&t(),i):c},i.chords=function(){return a||e(),a},i.groups=function(){return r||e(),r},i},fr.layout.force=function(){function e(e){return function(t,n,i,l){if(t.point!==e){var a=t.cx-e.x,r=t.cy-e.y,o=l-n,s=a*a+r*r;if(o*o/h<s){if(s<g){var d=t.charge/s;e.px-=a*d,e.py-=r*d}return!0}if(t.point&&s&&s<g){var d=t.pointCharge/s;e.px-=a*d,e.py-=r*d}}return!t.charge}}function t(e){e.px=fr.event.x,e.py=fr.event.y,l.resume()}var l={},a=fr.dispatch("start","tick","end"),r=[1,1],s=.9,d=ys,p=ms,c=-30,g=fs,u=.1,h=.64,f=[],_=[],v,b,C,S,E,L;return l.tick=function(){if(.005>(C*=.99))return v=null,a.end({type:"end",alpha:C=0}),!0;var d=f.length,n=_.length,p,g,h,m,b,w,A,z,j;for(g=0;g<n;++g)h=_[g],m=h.source,b=h.target,z=b.x-m.x,j=b.y-m.y,(w=z*z+j*j)&&(w=C*E[g]*((w=pr(w))-S[g])/w,z*=w,j*=w,b.x-=z*(A=m.weight+b.weight?m.weight/(m.weight+b.weight):.5),b.y-=j*A,m.x+=z*(A=1-A),m.y+=j*A);if((A=C*u)&&(z=r[0]/2,j=r[1]/2,g=-1,A))for(;++g<d;)h=f[g],h.x+=(z-h.x)*A,h.y+=(j-h.y)*A;if(c)for(il(p=fr.geom.quadtree(f),C,L),g=-1;++g<d;)(h=f[g]).fixed||p.visit(e(h));for(g=-1;++g<d;)h=f[g],h.fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*s,h.y-=(h.py-(h.py=h.y))*s);a.tick({type:"tick",alpha:C})},l.nodes=function(e){return arguments.length?(f=e,l):f},l.links=function(e){return arguments.length?(_=e,l):_},l.size=function(e){return arguments.length?(r=e,l):r},l.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,l):d},l.distance=l.linkDistance,l.linkStrength=function(e){return arguments.length?(p="function"==typeof e?e:+e,l):p},l.friction=function(e){return arguments.length?(s=+e,l):s},l.charge=function(e){return arguments.length?(c="function"==typeof e?e:+e,l):c},l.chargeDistance=function(e){return arguments.length?(g=e*e,l):pr(g)},l.gravity=function(e){return arguments.length?(u=+e,l):u},l.theta=function(e){return arguments.length?(h=e*e,l):pr(h)},l.alpha=function(e){return arguments.length?(e=+e,C?0<e?C=e:(v.c=null,v.t=NaN,v=null,a.end({type:"end",alpha:C=0})):0<e&&(a.start({type:"start",alpha:C=e}),v=qe(l.tick)),l):C},l.start=function(){function e(e,i){if(!u){for(u=Array(t),o=0;o<t;++o)u[o]=[];for(o=0;o<n;++o){var a=_[o];u[a.source.index].push(a.target),u[a.target.index].push(a.source)}}for(var r=u[g],o=-1,s=r.length,l;++o<s;)if(!isNaN(l=r[o][e]))return l;return Math.random()*i}var t=f.length,n=_.length,a=r[0],s=r[1],g,u,h;for(g=0;g<t;++g)(h=f[g]).index=g,h.weight=0;for(g=0;g<n;++g)h=_[g],"number"==typeof h.source&&(h.source=f[h.source]),"number"==typeof h.target&&(h.target=f[h.target]),++h.source.weight,++h.target.weight;for(g=0;g<t;++g)h=f[g],isNaN(h.x)&&(h.x=e("x",a)),isNaN(h.y)&&(h.y=e("y",s)),isNaN(h.px)&&(h.px=h.x),isNaN(h.py)&&(h.py=h.y);if(S=[],"function"==typeof d)for(g=0;g<n;++g)S[g]=+d.call(this,_[g],g);else for(g=0;g<n;++g)S[g]=d;if(E=[],"function"==typeof p)for(g=0;g<n;++g)E[g]=+p.call(this,_[g],g);else for(g=0;g<n;++g)E[g]=p;if(L=[],"function"==typeof c)for(g=0;g<t;++g)L[g]=+c.call(this,f[g],g);else for(g=0;g<t;++g)L[g]=c;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return b||(b=fr.behavior.drag().origin(A).on("dragstart.force",Qi).on("drag.force",t).on("dragend.force",el)),arguments.length?void this.on("mouseover.force",tl).on("mouseout.force",nl).call(b):b},fr.rebind(l,a,"on")};var ys=20,ms=1,fs=1/0;fr.layout.hierarchy=function(){function e(a){var r=[a],o=[],s;for(a.depth=0;null!=(s=r.pop());)if(o.push(s),(p=i.call(e,s,s.depth))&&(d=p.length)){for(var d,p,c;0<=--d;)r.push(c=p[d]),c.parent=s,c.depth=s.depth+1;l&&(s.value=0),s.children=p}else l&&(s.value=+l.call(e,s,s.depth)||0),delete s.children;return rl(a,function(e){var n,i;t&&(n=e.children)&&n.sort(t),l&&(i=e.parent)&&(i.value+=e.value)}),o}var t=dl,i=ol,l=sl;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(i=t,e):i},e.value=function(t){return arguments.length?(l=t,e):l},e.revalue=function(t){return l&&(al(t,function(e){e.children&&(e.value=0)}),rl(t,function(t){var n;t.children||(t.value=+l.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},fr.layout.partition=function(){function e(t,l,a,r){var o=t.children;if(t.x=l,t.y=t.depth*r,t.dx=a,t.dy=r,o&&(p=o.length)){var s=-1,p,g,u;for(a=t.value?a/t.value:0;++s<p;)e(g=o[s],l,u=g.value*a,r),l+=u}}function t(e){var l=e.children,a=0;if(l&&(s=l.length))for(var r=-1,s;++r<s;)a=o(a,t(l[r]));return 1+a}function n(n,r){var i=l.call(this,n,r);return e(i[0],0,a[0],a[1]/t(i[0])),i}var l=fr.layout.hierarchy(),a=[1,1];return n.size=function(e){return arguments.length?(a=e,n):a},ll(n,l)},fr.layout.pie=function(){function n(c){var g=c.length,u=c.map(function(e,t){return+l.call(n,e,t)}),h=+("function"==typeof o?o.apply(this,arguments):o),i=("function"==typeof s?s.apply(this,arguments):s)-h,y=t(e(i)/g,+("function"==typeof d?d.apply(this,arguments):d)),p=y*(0>i?-1:1),m=fr.sum(u),f=m?(i-g*p)/m:0,x=fr.range(g),_=[],b;return null!=r&&x.sort(r===xs?function(e,t){return u[t]-u[e]}:function(e,t){return r(c[e],c[t])}),x.forEach(function(e){_[e]={data:c[e],value:b=u[e],startAngle:h,endAngle:h+=b*f+p,padAngle:y}}),_}var l=Number,r=xs,o=0,s=Or,d=0;return n.value=function(e){return arguments.length?(l=e,n):l},n.sort=function(e){return arguments.length?(r=e,n):r},n.startAngle=function(e){return arguments.length?(o=e,n):o},n.endAngle=function(e){return arguments.length?(s=e,n):s},n.padAngle=function(e){return arguments.length?(d=e,n):d},n};var xs={};fr.layout.stack=function(){function e(s,d){if(!(y=s.length))return s;var p=s.map(function(n,l){return t.call(e,n,l)}),c=p.map(function(t){return t.map(function(t,l){return[o.call(e,t,l),n.call(e,t,l)]})}),g=l.call(e,c,d);p=fr.permute(p,g),c=fr.permute(c,g);var u=a.call(e,c,d),h=p[0].length,y,m,f,x;for(f=0;f<h;++f)for(r.call(e,p[0][f],x=u[f],c[0][f][1]),m=1;m<y;++m)r.call(e,p[m][f],x+=c[m-1][f][1],c[m][f][1]);return s}var t=A,l=hl,a=yl,r=ul,o=cl,n=gl;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(l="function"==typeof t?t:_s.get(t)||hl,e):l},e.offset=function(t){return arguments.length?(a="function"==typeof t?t:vs.get(t)||yl,e):a},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(n=t,e):n},e.out=function(t){return arguments.length?(r=t,e):r},e};var _s=fr.map({"inside-out":function(e){var t=e.length,n=e.map(ml),l=e.map(fl),a=fr.range(t).sort(function(e,t){return n[e]-n[t]}),r=0,o=0,s=[],d=[],p,c;for(p=0;p<t;++p)c=a[p],r<o?(r+=l[c],s.push(c)):(o+=l[c],d.push(c));return d.reverse().concat(s)},reverse:function(e){return fr.range(e.length).reverse()},default:hl}),vs=fr.map({silhouette:function(e){var t=e.length,n=e[0].length,l=[],a=0,r=[],s,d,p;for(d=0;d<n;++d){for(s=0,p=0;s<t;s++)p+=e[s][d][1];p>a&&(a=p),l.push(p)}for(d=0;d<n;++d)r[d]=(a-l[d])/2;return r},wiggle:function(e){var t=e.length,n=e[0],l=n.length,a=[],r,s,d,p,c,g,u,h,y;for(a[0]=h=y=0,s=1;s<l;++s){for(r=0,p=0;r<t;++r)p+=e[r][s][1];for(r=0,c=0,u=n[s][0]-n[s-1][0];r<t;++r){for(d=0,g=(e[r][s][1]-e[r][s-1][1])/(2*u);d<r;++d)g+=(e[d][s][1]-e[d][s-1][1])/u;c+=g*e[r][s][1]}a[s]=h-=p?c/p*u:0,h<y&&(y=h)}for(s=0;s<l;++s)a[s]-=y;return a},expand:function(e){var t=e.length,n=e[0].length,l=[],a,r,s;for(r=0;r<n;++r){for(a=0,s=0;a<t;a++)s+=e[a][r][1];if(s)for(a=0;a<t;a++)e[a][r][1]/=s;else for(a=0;a<t;a++)e[a][r][1]=1/t}for(r=0;r<n;++r)l[r]=0;return l},zero:yl});fr.layout.histogram=function(){function e(e,o){for(var s=[],d=e.map(l,this),p=a.call(this,d,o),c=r.call(this,p,d,o),o=-1,g=d.length,n=c.length-1,u=t?1:1/g,h,y;++o<n;)h=s[o]=[],h.dx=c[o+1]-(h.x=c[o]),h.y=0;if(0<n)for(o=-1;++o<g;)y=d[o],y>=p[0]&&y<=p[1]&&(h=s[fr.bisect(c,y,1,n)-1],h.y+=u,h.push(e[o]));return s}var t=!0,l=Number,a=bl,r=_l;return e.value=function(t){return arguments.length?(l=t,e):l},e.range=function(t){return arguments.length?(a=Pe(t),e):a},e.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return vl(e,t)}:Pe(t),e):r},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},fr.layout.pack=function(){function e(e,s){var i=t.call(this,e,s),d=i[0],p=l[0],c=l[1],g=null==a?pr:"function"==typeof a?a:function(){return a};if(d.x=d.y=0,rl(d,function(e){e.r=+g(e.value)}),rl(d,El),n){var r=n*(a?1:o(2*d.r/p,2*d.r/c))/2;rl(d,function(e){e.r+=r}),rl(d,El),rl(d,function(e){e.r-=r})}return zl(d,p/2,c/2,a?1:1/o(2*d.r/p,2*d.r/c)),i}var t=fr.layout.hierarchy().sort(Cl),n=0,l=[1,1],a;return e.size=function(t){return arguments.length?(l=t,e):l},e.radius=function(t){return arguments.length?(a=null==t||"function"==typeof t?t:+t,e):a},e.padding=function(t){return arguments.length?(n=+t,e):n},ll(e,t)},fr.layout.tree=function(){function e(e,a){var i=o.call(this,e,a),c=i[0],g=t(c);if(rl(g,n),g.parent.m=-g.z,al(g,l),p)al(c,r);else{var u=c,h=c,y=c;al(c,function(e){e.x<u.x&&(u=e),e.x>h.x&&(h=e),e.depth>y.depth&&(y=e)});var m=s(u,h)/2-u.x,f=d[0]/(h.x+s(h,u)/2+m),x=d[1]/(y.depth||1);al(c,function(e){e.x=(e.x+m)*f,e.y=e.depth*x})}return i}function t(e){for(var t={A:null,children:[e]},l=[t],a;null!=(a=l.pop());)for(var r=a.children,o=0,s=r.length,n;o<s;++o)l.push((r[o]=n={_:r[o],parent:a,children:(n=r[o].children)&&n.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=n);return t.children[0]}function n(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t.length){Rl(e);var l=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+s(e._,i._),e.m=e.z-l):e.z=l}else i&&(e.z=i.z+s(e._,i._));e.parent.A=a(e,i,e.parent.A||n[0])}function l(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function a(e,t,n){if(t){for(var i=e,l=e,a=t,r=i.parent.children[0],o=i.m,d=l.m,p=a.m,c=r.m,g;a=Tl(a),i=Ml(i),a&&i;)r=Ml(r),l=Tl(l),l.a=e,g=a.z+p-i.z-o+s(a._,i._),0<g&&(Nl(Pl(a,e,n),e,g),o+=g,d+=g),p+=a.m,o+=i.m,c+=r.m,d+=l.m;a&&!Tl(l)&&(l.t=a,l.m+=p-d),i&&!Ml(r)&&(r.t=i,r.m+=o-c,n=e)}return n}function r(e){e.x*=d[0],e.y=e.depth*d[1]}var o=fr.layout.hierarchy().sort(null).value(null),s=Fl,d=[1,1],p=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(p=null==(d=t)?r:null,e):p?null:d},e.nodeSize=function(t){return arguments.length?(p=null==(d=t)?null:r,e):p?d:null},ll(e,o)},fr.layout.cluster=function(){function e(e,a){var r=t.call(this,e,a),o=r[0],s=0,d;rl(o,function(e){var t=e.children;t&&t.length?(e.x=Dl(t),e.y=Ul(t)):(e.x=d?s+=n(e,d):0,e.y=0,d=e)});var p=Ol(o),c=Il(o),g=p.x-n(p,c)/2,u=c.x+n(c,p)/2;return rl(o,l?function(e){e.x=(e.x-o.x)*i[0],e.y=(o.y-e.y)*i[1]}:function(e){e.x=(e.x-g)/(u-g)*i[0],e.y=(1-(o.y?e.y/o.y:1))*i[1]}),r}var t=fr.layout.hierarchy().sort(null).value(null),n=Fl,i=[1,1],l=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(l=null==(i=t),e):l?null:i},e.nodeSize=function(t){return arguments.length?(l=null!=(i=t),e):l?i:null},ll(e,t)},fr.layout.treemap=function(){function e(e,t){for(var l=-1,a=e.length,n,r;++l<a;)r=(n=e[l]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function i(l){var o=l.children;if(o&&o.length){var s=h(l),d=[],p=o.slice(),c=1/0,g="slice"===m?s.dx:"dice"===m?s.dy:"slice-dice"===m?1&l.depth?s.dy:s.dx:t(s.dx,s.dy),y,f,x;for(e(p,s.dx*s.dy/l.value),d.area=0;0<(x=p.length);)d.push(y=p[x-1]),d.area+=y.area,"squarify"!==m||(f=a(d,g))<=c?(p.pop(),c=f):(d.area-=d.pop().area,r(d,g,s,!1),g=t(s.dx,s.dy),d.length=d.area=0,c=1/0);d.length&&(r(d,g,s,!0),d.length=d.area=0),o.forEach(i)}}function l(t){var n=t.children;if(n&&n.length){var i=h(t),a=n.slice(),o=[],s;for(e(a,i.dx*i.dy/t.value),o.area=0;s=a.pop();)o.push(s),o.area+=s.area,null!=s.z&&(r(o,s.z?i.dx:i.dy,i,!a.length),o.length=o.area=0);n.forEach(l)}}function a(e,t){for(var l=e.area,a=0,d=1/0,p=-1,c=e.length,n;++p<c;)(n=e[p].area)&&(n<d&&(d=n),n>a&&(a=n));return l*=l,t*=t,l?o(t*a*f/l,l/(t*d*f)):1/0}function r(e,l,a,r){var s=-1,d=e.length,n=a.x,p=a.y,g=l?c(e.area/l):0,u;if(l==a.dx){for((r||g>a.dy)&&(g=a.dy);++s<d;)u=e[s],u.x=n,u.y=p,u.dy=g,n+=u.dx=t(a.x+a.dx-n,g?c(u.area/g):0);u.z=!0,u.dx+=a.x+a.dx-n,a.y+=g,a.dy-=g}else{for((r||g>a.dx)&&(g=a.dx);++s<d;)u=e[s],u.x=n,u.y=p,u.dx=g,p+=u.dy=t(a.y+a.dy-p,g?c(u.area/g):0);u.z=!1,u.dy+=a.y+a.dy-p,a.x+=g,a.dx-=g}}function d(t){var n=_||p(t),a=n[0];return a.x=a.y=0,a.value?(a.dx=g[0],a.dy=g[1]):a.dx=a.dy=0,_&&p.revalue(a),e([a],a.dx*a.dy/a.value),(_?l:i)(a),y&&(_=n),n}var p=fr.layout.hierarchy(),c=s,g=[1,1],u=null,h=ql,y=!1,m="squarify",f=.5*(1+pr(5)),_;return d.size=function(e){return arguments.length?(g=e,d):g},d.padding=function(e){function t(t){var n=e.call(d,t,t.depth);return null==n?ql(t):Hl(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Hl(t,e)}if(!arguments.length)return u;var i;return h=null==(u=e)?ql:"function"==(i=typeof e)?t:"number"===i?(e=[e,e,e,e],n):n,d},d.round=function(e){return arguments.length?(c=e?s:Number,d):c!=Number},d.sticky=function(e){return arguments.length?(y=e,_=null,d):y},d.ratio=function(e){return arguments.length?(f=e,d):f},d.mode=function(e){return arguments.length?(m=e+"",d):m},ll(d,p)},fr.random={normal:function(e,t){var i=arguments.length;return 2>i&&(t=1),1>i&&(e=0),function(){var n,i,l;do n=2*Math.random()-1,i=2*Math.random()-1,l=n*n+i*i;while(!l||1<l);return e+t*n*pr(-2*or(l)/l)}},logNormal:function(){var e=fr.random.normal.apply(fr,arguments);return function(){return hr(e())}},bates:function(e){var t=fr.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},fr.scale={};var bs={floor:A,ceil:A};fr.scale.linear=function(){return $l([0,1],[0,1],Si,!1)};var Cs={s:1,g:1,p:1,r:1,e:1};fr.scale.log=function(){return ia(fr.scale.linear().domain([0,1]),10,!0,[1,10])};var ks=fr.format(".0e"),ws={floor:function(e){return-ar(-e)},ceil:function(e){return-er(-e)}};fr.scale.pow=function(){return la(fr.scale.linear(),1,[0,1])},fr.scale.sqrt=function(){return fr.scale.pow().exponent(.5)},fr.scale.ordinal=function(){return ra([],{t:"range",a:[[]]})},fr.scale.category10=function(){return fr.scale.ordinal().range(Ss)},fr.scale.category20=function(){return fr.scale.ordinal().range(Es)},fr.scale.category20b=function(){return fr.scale.ordinal().range(Ls)},fr.scale.category20c=function(){return fr.scale.ordinal().range(As)};var Ss=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ze),Es=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ze),Ls=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ze),As=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ze);fr.scale.quantile=function(){return oa([],[])},fr.scale.quantize=function(){return sa(0,1,[0,1])},fr.scale.threshold=function(){return da([.5],[0,1])},fr.scale.identity=function(){return pa([0,1])},fr.svg={},fr.svg.arc=function(){function n(){var n=o(0,+l.apply(this,arguments)),a=o(0,+s.apply(this,arguments)),r=c.apply(this,arguments)-Ir,h=g.apply(this,arguments)-Ir,y=e(h-r),m=r>h?0:1;if(a<n&&(v=a,a=n,n=v),y>=Or-Pr)return i(a,m)+(n?i(n,1-m):"")+"Z";var f=0,x=0,_=[],v,b,C,k,w,S,E,L,A,z,j,F;if((k=(+u.apply(this,arguments)||0)/2)&&(C=p===zs?pr(n*n+a*a):+p.apply(this,arguments),!m&&(x*=-1),a&&(x=ce(C/a*ur(k))),n&&(f=ce(C/n*ur(k)))),a){w=a*gr(r+x),S=a*ur(r+x),E=a*gr(h-x),L=a*ur(h-x);var M=e(h-r-2*x)<=Dr?0:1;if(x&&fa(w,S,E,L)===m^M){var T=(r+h)/2;w=a*gr(T),S=a*ur(T),E=L=null}}else w=S=0;if(n){A=n*gr(h-f),z=n*ur(h-f),j=n*gr(r+f),F=n*ur(r+f);var N=e(r-h+2*f)<=Dr?0:1;if(f&&fa(A,z,j,F)===1-m^N){var R=(r+h)/2;A=n*gr(R),z=n*ur(R),j=F=null}}else A=z=0;if(y>Pr&&.001<(v=t(e(a-n)/2,+d.apply(this,arguments)))){b=n<a^m?0:1;var P=v,U=v;if(y<Dr){var D=null==j?[A,z]:null==E?[w,S]:In([w,S],[j,F],[E,L],[A,z]),O=w-D[0],I=S-D[1],q=E-D[0],H=L-D[1],Y=1/ur(mr((O*q+I*H)/(pr(O*O+I*I)*pr(q*q+H*H)))/2),Z=pr(D[0]*D[0]+D[1]*D[1]);U=t(v,(n-Z)/(Y-1)),P=t(v,(a-Z)/(Y+1))}if(null!=E){var V=xa(null==j?[A,z]:[j,F],[w,S],a,P,m),B=xa([E,L],[A,z],a,P,m);v===P?_.push("M",V[0],"A",P,",",P," 0 0,",b," ",V[1],"A",a,",",a," 0 ",1-m^fa(V[1][0],V[1][1],B[1][0],B[1][1]),",",m," ",B[1],"A",P,",",P," 0 0,",b," ",B[0]):_.push("M",V[0],"A",P,",",P," 0 1,",b," ",B[0])}else _.push("M",w,",",S);if(null!=j){var X=xa([w,S],[j,F],n,-U,m),W=xa([A,z],null==E?[w,S]:[E,L],n,-U,m);v===U?_.push("L",W[0],"A",U,",",U," 0 0,",b," ",W[1],"A",n,",",n," 0 ",m^fa(W[1][0],W[1][1],X[1][0],X[1][1]),",",1-m," ",X[1],"A",U,",",U," 0 0,",b," ",X[0]):_.push("L",W[0],"A",U,",",U," 0 0,",b," ",X[0])}else _.push("L",A,",",z)}else _.push("M",w,",",S),null!=E&&_.push("A",a,",",a," 0 ",M,",",m," ",E,",",L),_.push("L",A,",",z),null!=j&&_.push("A",n,",",n," 0 ",N,",",1-m," ",j,",",F);return _.push("Z"),_.join("")}function i(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var l=ga,s=ua,d=ca,p=zs,c=ha,g=ya,u=ma;return n.innerRadius=function(e){return arguments.length?(l=Pe(e),n):l},n.outerRadius=function(e){return arguments.length?(s=Pe(e),n):s},n.cornerRadius=function(e){return arguments.length?(d=Pe(e),n):d},n.padRadius=function(e){return arguments.length?(p=e==zs?zs:Pe(e),n):p},n.startAngle=function(e){return arguments.length?(c=Pe(e),n):c},n.endAngle=function(e){return arguments.length?(g=Pe(e),n):g},n.padAngle=function(e){return arguments.length?(u=Pe(e),n):u},n.centroid=function(){var e=(+l.apply(this,arguments)+ +s.apply(this,arguments))/2,t=(+c.apply(this,arguments)+ +g.apply(this,arguments))/2-Ir;return[gr(t)*e,ur(t)*e]},n};var zs="auto";fr.svg.line=function(){return _a(A)};var js=fr.map({linear:va,"linear-closed":ba,step:function(e){for(var t=0,l=e.length,n=e[0],a=[n[0],",",n[1]];++t<l;)a.push("H",(n[0]+(n=e[t])[0])/2,"V",n[1]);return 1<l&&a.push("H",n[0]),a.join("")},"step-before":Ca,"step-after":ka,basis:Ea,"basis-open":function(e){if(4>e.length)return va(e);for(var t=[],l=-1,a=e.length,n=[0],r=[0],o;3>++l;)o=e[l],n.push(o[0]),r.push(o[1]);for(t.push(La(Ts,n)+","+La(Ts,r)),--l;++l<a;)o=e[l],n.shift(),n.push(o[0]),r.shift(),r.push(o[1]),Aa(t,n,r);return t.join("")},"basis-closed":function(e){for(var t=-1,l=e.length,n=l+4,a=[],r=[],o,s;4>++t;)s=e[t%l],a.push(s[0]),r.push(s[1]);for(o=[La(Ts,a),",",La(Ts,r)],--t;++t<n;)s=e[t%l],a.shift(),a.push(s[0]),r.shift(),r.push(s[1]),Aa(o,a,r);return o.join("")},bundle:function(e,l){var a=e.length-1;if(a)for(var n=e[0][0],r=e[0][1],o=e[a][0]-n,s=e[a][1]-r,d=-1,c,g;++d<=a;)c=e[d],g=d/a,c[0]=l*c[0]+(1-l)*(n+g*o),c[1]=l*c[1]+(1-l)*(r+g*s);return Ea(e)},cardinal:function(e,t){return 3>e.length?va(e):e[0]+wa(e,Sa(e,t))},"cardinal-open":function(e,t){return 4>e.length?va(e):e[1]+wa(e.slice(1,-1),Sa(e,t))},"cardinal-closed":function(e,t){return 3>e.length?ba(e):e[0]+wa((e.push(e[0]),e),Sa([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return 3>e.length?va(e):e[0]+wa(e,Fa(e))}});js.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Fs=[0,2/3,1/3,0],Ms=[0,1/3,2/3,0],Ts=[0,1/6,2/3,1/6];fr.svg.line.radial=function(){var e=_a(Ma);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ca.reverse=ka,ka.reverse=Ca,fr.svg.area=function(){return Ta(A)},fr.svg.area.radial=function(){var e=Ta(Ma);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},fr.svg.chord=function(){function e(e,d){var i=n(this,o,e,d),s=n(this,p,e,d);return"M"+i.p0+a(i.r,i.p1,i.a1-i.a0)+(l(i,s)?r(i.r,i.p1,i.r,i.p0):r(i.r,i.p1,s.r,s.p0)+a(s.r,s.p1,s.a1-s.a0)+r(s.r,s.p1,i.r,i.p0))+"Z"}function n(e,t,n,l){var i=t.call(e,n,l),a=c.call(e,i,l),r=g.call(e,i,l)-Ir,o=u.call(e,i,l)-Ir;return{r:a,a0:r,a1:o,p0:[a*gr(r),a*ur(r)],p1:[a*gr(o),a*ur(o)]}}function l(e,t){return e.a0==t.a0&&e.a1==t.a1}function a(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Dr)+",1 "+t}function r(e,t,n,i){return"Q 0,0 "+i}var o=En,p=Ln,c=Na,g=ha,u=ya;return e.radius=function(t){return arguments.length?(c=Pe(t),e):c},e.source=function(t){return arguments.length?(o=Pe(t),e):o},e.target=function(t){return arguments.length?(p=Pe(t),e):p},e.startAngle=function(t){return arguments.length?(g=Pe(t),e):g},e.endAngle=function(t){return arguments.length?(u=Pe(t),e):u},e},fr.svg.diagonal=function(){function e(e,a){var i=t.call(this,e,a),r=n.call(this,e,a),o=(i.y+r.y)/2,s=[i,{x:i.x,y:o},{x:r.x,y:o},r];return s=s.map(l),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var t=En,n=Ln,l=Ra;return e.source=function(n){return arguments.length?(t=Pe(n),e):t},e.target=function(t){return arguments.length?(n=Pe(t),e):n},e.projection=function(t){return arguments.length?(l=t,e):l},e},fr.svg.diagonal.radial=function(){var e=fr.svg.diagonal(),t=Ra,n=e.projection;return e.projection=function(e){return arguments.length?n(Pa(t=e)):t},e},fr.svg.symbol=function(){function e(e,l){return(Ns.get(t.call(this,e,l))||Oa)(n.call(this,e,l))}var t=Da,n=Ua;return e.type=function(n){return arguments.length?(t=Pe(n),e):t},e.size=function(t){return arguments.length?(n=Pe(t),e):n},e};var Ns=fr.map({circle:Oa,cross:function(e){var t=pr(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=pr(e/(2*Ps)),n=t*Ps;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=pr(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=pr(e/Rs),n=t*Rs/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=pr(e/Rs),n=t*Rs/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});fr.svg.symbolTypes=Ns.keys();var Rs=pr(3),Ps=nr(30*qr);zr.transition=function(e){for(var t=Is||++Os,l=Za(e),a=[],r=qs||{time:Date.now(),ease:Mi,delay:0,duration:250},o=-1,s=this.length,d,p;++o<s;){a.push(d=[]);for(var c=this[o],g=-1,u=c.length;++g<u;)(p=c[g])&&Va(p,g,l,t,r),d.push(p)}return qa(a,l,t)},zr.interrupt=function(e){return this.each(null==e?Us:Ia(Za(e)))};var Us=Ia(Za()),Ds=[],Os=0,Is,qs;Ds.call=zr.call,Ds.empty=zr.empty,Ds.node=zr.node,Ds.size=zr.size,fr.transition=function(e,t){return e&&e.transition?Is?e.transition(t):e:fr.selection().transition(e)},fr.transition.prototype=Ds,Ds.select=function(e){var t=this.id,l=this.namespace,a=[],r,o,s;e=D(e);for(var d=-1,p=this.length;++d<p;){a.push(r=[]);for(var c=this[d],g=-1,u=c.length;++g<u;)(s=c[g])&&(o=e.call(s,s.__data__,g,d))?("__data__"in s&&(o.__data__=s.__data__),Va(o,g,l,t,s[l][t]),r.push(o)):r.push(null)}return qa(a,l,t)},Ds.selectAll=function(e){var t=this.id,l=this.namespace,a=[],r,s,d,p,c;e=O(e);for(var g=-1,u=this.length;++g<u;)for(var h=this[g],y=-1,m=h.length;++y<m;)if(d=h[y]){c=d[l][t],s=e.call(d,d.__data__,y,g),a.push(r=[]);for(var n=-1,f=s.length;++n<f;)(p=s[n])&&Va(p,n,l,t,c),r.push(p)}return qa(a,l,t)},Ds.filter=function(e){var t=[],l,a,r;"function"!=typeof e&&(e=J(e));for(var o=0,s=this.length;o<s;o++){t.push(l=[]);for(var a=this[o],d=0,p=a.length;d<p;d++)(r=a[d])&&e.call(r,r.__data__,d,o)&&l.push(r)}return qa(t,this.namespace,this.id)},Ds.tween=function(e,t){var n=this.id,i=this.namespace;return 2>arguments.length?this.node()[i][n].tween.get(e):Q(this,null==t?function(t){t[i][n].tween.remove(e)}:function(l){l[i][n].tween.set(e,t)})},Ds.attr=function(e,t){function n(){this.removeAttribute(r)}function i(){this.removeAttributeNS(r.space,r.local)}if(2>arguments.length){for(t in e)this.attr(t,e[t]);return this}var l="transform"==e?Xi:Si,r=fr.ns.qualify(e);return Ha(this,"attr."+e,t,r.local?function(e){return null==e?i:(e+="",function(){var t=this.getAttributeNS(r.space,r.local),n;return t!==e&&(n=l(t,e),function(e){this.setAttributeNS(r.space,r.local,n(e))})})}:function(e){return null==e?n:(e+="",function(){var t=this.getAttribute(r),n;return t!==e&&(n=l(t,e),function(e){this.setAttribute(r,n(e))})})})},Ds.attrTween=function(e,t){var n=fr.ns.qualify(e);return this.tween("attr."+e,n.local?function(e,l){var i=t.call(this,e,l,this.getAttributeNS(n.space,n.local));return i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}:function(e,l){var i=t.call(this,e,l,this.getAttribute(n));return i&&function(e){this.setAttribute(n,i(e))}})},Ds.style=function(e,t,a){function r(){this.style.removeProperty(e)}var o=arguments.length;if(3>o){if("string"!=typeof e){for(a in 2>o&&(t=""),e)this.style(a,e[a],t);return this}a=""}return Ha(this,"style."+e,t,function(t){return null==t?r:(t+="",function(){var n=l(this).getComputedStyle(this,null).getPropertyValue(e),r;return n!==t&&(r=Si(n,t),function(n){this.style.setProperty(e,r(n),a)})})})},Ds.styleTween=function(e,t,n){return 3>arguments.length&&(n=""),this.tween("style."+e,function(a,r){var i=t.call(this,a,r,l(this).getComputedStyle(this,null).getPropertyValue(e));return i&&function(l){this.style.setProperty(e,i(l),n)}})},Ds.text=function(e){return Ha(this,"text",e,Ya)},Ds.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;2>this[e].count&&(t=this.parentNode)&&t.removeChild(this)})},Ds.ease=function(e){var t=this.id,n=this.namespace;return 1>arguments.length?this.node()[n][t].ease:("function"!=typeof e&&(e=fr.ease.apply(fr,arguments)),Q(this,function(i){i[n][t].ease=e}))},Ds.delay=function(e){var t=this.id,n=this.namespace;return 1>arguments.length?this.node()[n][t].delay:Q(this,"function"==typeof e?function(l,a,i){l[n][t].delay=+e.call(l,l.__data__,a,i)}:(e=+e,function(i){i[n][t].delay=e}))},Ds.duration=function(e){var t=this.id,n=this.namespace;return 1>arguments.length?this.node()[n][t].duration:Q(this,"function"==typeof e?function(l,a,i){l[n][t].duration=o(1,e.call(l,l.__data__,a,i))}:(e=o(1,e),function(i){i[n][t].duration=e}))},Ds.each=function(e,t){var n=this.id,l=this.namespace;if(2>arguments.length){var i=qs,a=Is;try{Is=n,Q(this,function(t,a,i){qs=t[l][n],e.call(t,t.__data__,a,i)})}finally{qs=i,Is=a}}else Q(this,function(i){var a=i[l][n];(a.event||(a.event=fr.dispatch("start","end","interrupt"))).on(e,t)});return this},Ds.transition=function(){for(var e=this.id,t=++Os,l=this.namespace,a=[],r=0,o=this.length,s,d,p,c;r<o;r++){a.push(s=[]);for(var d=this[r],g=0,u=d.length;g<u;g++)(p=d[g])&&(c=p[l][e],Va(p,g,l,t,{time:c.time,ease:c.ease,delay:c.delay+c.duration,duration:c.duration})),s.push(p)}return qa(a,l,t)},fr.svg.axis=function(){function e(e){e.each(function(){var e=fr.select(this),p=this.__chart__||t,c=this.__chart__=t.copy(),g=null==s?c.ticks?c.ticks.apply(c,r):c.domain():s,u=null==d?c.tickFormat?c.tickFormat.apply(c,r):A:d,h=e.selectAll(".tick").data(g,c),y=h.enter().insert("g",".domain").attr("class","tick").style("opacity",Pr),m=fr.transition(h.exit()).style("opacity",Pr).remove(),f=fr.transition(h.order()).style("opacity",1),_=o(i,0)+a,v=Zl(c),b=e.selectAll(".domain").data([0]),C=(b.enter().append("path").attr("class","domain"),fr.transition(b)),k;y.append("line"),y.append("text");var w=y.select("line"),S=f.select("line"),E=h.select("text").text(u),L=y.select("text"),z=f.select("text"),j="top"===n||"left"===n?-1:1,F,M,T,N;if("bottom"===n||"top"===n?(k=Ba,F="x",T="y",M="x2",N="y2",E.attr("dy",0>j?"0em":".71em").style("text-anchor","middle"),C.attr("d","M"+v[0]+","+j*l+"V0H"+v[1]+"V"+j*l)):(k=Xa,F="y",T="x",M="y2",N="x2",E.attr("dy",".32em").style("text-anchor",0>j?"end":"start"),C.attr("d","M"+j*l+","+v[0]+"H0V"+v[1]+"H"+j*l)),w.attr(N,j*i),L.attr(T,j*_),S.attr(M,0).attr(N,j*i),z.attr(F,0).attr(T,j*_),c.rangeBand){var R=c,x=R.rangeBand()/2;p=c=function(e){return R(e)+x}}else p.rangeBand?p=c:m.call(k,c,p);y.call(k,p,c),f.call(k,c,c)})}var t=fr.scale.linear(),n=Hs,i=6,l=6,a=3,r=[10],s=null,d;return e.scale=function(n){return arguments.length?(t=n,e):t},e.orient=function(t){return arguments.length?(n=t in Ys?t+"":Hs,e):n},e.ticks=function(){return arguments.length?(r=m(arguments),e):r},e.tickValues=function(t){return arguments.length?(s=t,e):s},e.tickFormat=function(t){return arguments.length?(d=t,e):d},e.tickSize=function(t){var a=arguments.length;return a?(i=+t,l=+arguments[a-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(l=+t,e):l},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var Hs="bottom",Ys={top:1,right:1,bottom:1,left:1};fr.svg.brush=function(){function e(t){t.each(function(){var t=fr.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),l=t.selectAll(".background").data([0]);l.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=t.selectAll(".resize").data(f,A);o.exit().remove(),o.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Zs[e]}).append("rect").attr("x",function(e){return /[ew]$/.test(e)?-3:null}).attr("y",function(e){return /^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",e.empty()?"none":null);var s=fr.transition(t),c=fr.transition(l),g;d&&(g=Zl(d),c.attr("x",g[0]).attr("width",g[1]-g[0]),i(s)),p&&(g=Zl(p),c.attr("y",g[0]).attr("height",g[1]-g[0]),a(s)),n(s)})}function n(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+c[+/e$/.test(e)]+","+u[+/^s/.test(e)]+")"})}function i(e){e.select(".extent").attr("x",c[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function a(e){e.select(".extent").attr("y",u[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1]-u[0])}function r(){function r(){32==fr.event.keyCode&&(!z&&(w=null,F[0]-=c[1],F[1]-=u[1],z=2),N())}function y(){32==fr.event.keyCode&&2==z&&(F[0]+=c[1],F[1]+=u[1],z=0,N())}function f(){var e=fr.mouse(C),t=!1;T&&(e[0]+=T[0],e[1]+=T[1]),z||(fr.event.altKey?(!w&&(w=[(c[0]+c[1])/2,(u[0]+u[1])/2]),F[0]=c[+(e[0]<w[0])],F[1]=u[+(e[1]<w[1])]):w=null),L&&x(e,d,0)&&(i(E),t=!0),A&&x(e,p,1)&&(a(E),t=!0),t&&(n(E),S({type:"brush",mode:z?"move":"resize"}))}function x(e,n,l){var i=Zl(n),a=i[0],r=i[1],s=F[l],d=l?u:c,p=d[1]-d[0],g,y;if(z&&(a-=s,r-=p+s),g=(l?m:h)?o(a,t(r,e[l])):e[l],z?y=(g+=s)+p:(w&&(s=o(a,t(r,2*w[l]-g))),s<g?(y=g,g=s):y=s),d[0]!=g||d[1]!=y)return l?v=null:_=null,d[0]=g,d[1]=y,!0}function b(){f(),E.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),fr.select("body").style("cursor",null),M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),j(),S({type:"brushend"})}var C=this,k=fr.select(fr.event.target),S=s.of(C,arguments),E=fr.select(C),g=k.datum(),L=!/^(n|s)$/.test(g)&&d,A=!/^(e|w)$/.test(g)&&p,z=k.classed("extent"),j=ae(C),F=fr.mouse(C),M=fr.select(l(C)).on("keydown.brush",r).on("keyup.brush",y),w,T;if(fr.event.changedTouches?M.on("touchmove.brush",f).on("touchend.brush",b):M.on("mousemove.brush",f).on("mouseup.brush",b),E.interrupt().selectAll("*").interrupt(),z)F[0]=c[0]-F[0],F[1]=u[0]-F[1];else if(g){var R=+/w$/.test(g),P=+/^n/.test(g);T=[c[1-R]-F[0],u[1-P]-F[1]],F[0]=c[R],F[1]=u[P]}else fr.event.altKey&&(w=F.slice());E.style("pointer-events","none").selectAll(".resize").style("display",null),fr.select("body").style("cursor",k.style("cursor")),S({type:"brushstart"}),f()}var s=P(e,"brushstart","brush","brushend"),d=null,p=null,c=[0,0],u=[0,0],h=!0,m=!0,f=Vs[0],_,v;return e.event=function(e){e.each(function(){var e=s.of(this,arguments),n={x:c,y:u,i:_,j:v},i=this.__chart__||n;this.__chart__=n,Is?fr.select(this).transition().each("start.brush",function(){_=i.i,v=i.j,c=i.x,u=i.y,e({type:"brushstart"})}).tween("brush:brush",function(){var i=Ei(c,n.x),l=Ei(u,n.y);return _=v=null,function(a){c=n.x=i(a),u=n.y=l(a),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){_=n.i,v=n.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(d=t,f=Vs[!d<<1|!p],e):d},e.y=function(t){return arguments.length?(p=t,f=Vs[!d<<1|!p],e):p},e.clamp=function(t){return arguments.length?(d&&p?(h=!!t[0],m=!!t[1]):d?h=!!t:p&&(m=!!t),e):d&&p?[h,m]:d?h:p?m:null},e.extent=function(n){var i,l,a,r,o;return arguments.length?(d&&(i=n[0],l=n[1],p&&(i=i[0],l=l[0]),_=[i,l],d.invert&&(i=d(i),l=d(l)),l<i&&(o=i,i=l,l=o),(i!=c[0]||l!=c[1])&&(c=[i,l])),p&&(a=n[0],r=n[1],d&&(a=a[1],r=r[1]),v=[a,r],p.invert&&(a=p(a),r=p(r)),r<a&&(o=a,a=r,r=o),(a!=u[0]||r!=u[1])&&(u=[a,r])),e):(d&&(_?(i=_[0],l=_[1]):(i=c[0],l=c[1],d.invert&&(i=d.invert(i),l=d.invert(l)),l<i&&(o=i,i=l,l=o))),p&&(v?(a=v[0],r=v[1]):(a=u[0],r=u[1],p.invert&&(a=p.invert(a),r=p.invert(r)),r<a&&(o=a,a=r,r=o))),d&&p?[[i,a],[l,r]]:d?[i,l]:p&&[a,r])},e.clear=function(){return e.empty()||(c=[0,0],u=[0,0],_=v=null),e},e.empty=function(){return!!d&&c[0]==c[1]||!!p&&u[0]==u[1]},fr.rebind(e,s,"on")};var Zs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Bs=go.format=xo.timeFormat,Xs=Bs.utc,Ws=Xs("%Y-%m-%dT%H:%M:%S.%LZ");Bs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Wa:Ws,Wa.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Wa.toString=Ws.toString,go.second=$e(function(e){return new uo(1e3*er(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*er(t))},function(e){return e.getSeconds()}),go.seconds=go.second.range,go.seconds.utc=go.second.utc.range,go.minute=$e(function(e){return new uo(6e4*er(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*er(t))},function(e){return e.getMinutes()}),go.minutes=go.minute.range,go.minutes.utc=go.minute.utc.range,go.hour=$e(function(e){var t=e.getTimezoneOffset()/60;return new uo(36e5*(er(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*er(t))},function(e){return e.getHours()}),go.hours=go.hour.range,go.hours.utc=go.hour.utc.range,go.month=$e(function(e){return e=go.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),go.months=go.month.range,go.months.utc=go.month.utc.range;var $s=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Gs=[[go.second,1],[go.second,5],[go.second,15],[go.second,30],[go.minute,1],[go.minute,5],[go.minute,15],[go.minute,30],[go.hour,1],[go.hour,3],[go.hour,6],[go.hour,12],[go.day,1],[go.day,2],[go.week,1],[go.month,1],[go.month,3],[go.year,1]],Js=Bs.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Dt]]),Ks={range:function(e,t,n){return fr.range(ar(e/n)*n,+t,n).map(Ga)},floor:A,ceil:A};Gs.year=go.year,go.scale=function(){return $a(fr.scale.linear(),Gs,Js)};var Qs=Gs.map(function(e){return[e[0].utc,e[1]]}),ed=Xs.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Dt]]);Qs.year=go.year.utc,go.scale.utc=function(){return $a(fr.scale.linear(),Qs,ed)},fr.text=Ue(function(e){return e.responseText}),fr.json=function(e,t){return De(e,"application/json",Ja,t)},fr.html=function(e,t){return De(e,"text/html",Ka,t)},fr.xml=Ue(function(e){return e.responseXML}),"function"==typeof d&&d.amd?(this.d3=fr,d(fr)):"object"==typeof i&&i.exports?i.exports=fr:this.d3=fr}()},{}],2:[function(e,t,n){(function(i){function l(){let e;try{e=n.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof i&&"env"in i&&(e=i.env.DEBUG),e}n.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},n.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let i=0,l=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"===e||(i++,"%c"===e&&(l=i))}),e.splice(l,0,n)},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(e){}},n.load=l,n.useColors=function(){return!!("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(e){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=e("./common")(n);const{formatters:a}=t.exports;a.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,e("_process"))},{"./common":3,_process:7}],3:[function(t,n){n.exports=function(n){function i(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return l.colors[e(n)%l.colors.length]}function l(e){function t(...e){if(!t.enabled)return;const i=t,a=+new Date,r=a-(n||a);i.diff=r,i.prev=n,i.curr=a,n=a,e[0]=l.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,n)=>{if("%%"===t)return t;o++;const a=l.formatters[n];if("function"==typeof a){const n=e[o];t=a.call(i,n),e.splice(o,1),o--}return t}),l.formatArgs.call(i,e);const s=i.log||l.log;s.apply(i,e)}let n;return t.namespace=e,t.enabled=l.enabled(e),t.useColors=l.useColors(),t.color=i(e),t.destroy=a,t.extend=r,"function"==typeof l.init&&l.init(t),l.instances.push(t),t}function a(){const e=l.instances.indexOf(this);return-1!==e&&(l.instances.splice(e,1),!0)}function r(e,t){const n=l(this.namespace+("undefined"==typeof t?":":t)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return l.debug=l,l.default=l,l.coerce=function(e){return e instanceof Error?e.stack||e.message:e},l.disable=function(){const e=[...l.names.map(o),...l.skips.map(o).map(e=>"-"+e)].join(",");return l.enable(""),e},l.enable=function(e){l.save(e),l.names=[],l.skips=[];let t;const n=("string"==typeof e?e:"").split(/[\s,]+/),a=n.length;for(t=0;t<a;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?l.skips.push(new RegExp("^"+e.substr(1)+"$")):l.names.push(new RegExp("^"+e+"$")));for(t=0;t<l.instances.length;t++){const e=l.instances[t];e.enabled=l.enabled(e.namespace)}},l.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=l.skips.length;t<n;t++)if(l.skips[t].test(e))return!1;for(t=0,n=l.names.length;t<n;t++)if(l.names[t].test(e))return!0;return!1},l.humanize=t("ms"),Object.keys(n).forEach(e=>{l[e]=n[e]}),l.instances=[],l.names=[],l.skips=[],l.formatters={},l.selectColor=i,l.enable(l.load()),l}},{ms:6}],4:[function(e,t){function n(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=x(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function i(e){return void 0===e._maxListeners?n.defaultMaxListeners:e._maxListeners}function l(e,t,n){if(t)e.call(n);else for(var l=e.length,a=m(e,l),r=0;r<l;++r)a[r].call(n)}function a(e,t,n,l){if(t)e.call(n,l);else for(var a=e.length,r=m(e,a),o=0;o<a;++o)r[o].call(n,l)}function r(e,t,n,l,a){if(t)e.call(n,l,a);else for(var r=e.length,o=m(e,r),s=0;s<r;++s)o[s].call(n,l,a)}function s(e,t,n,l,a,r){if(t)e.call(n,l,a,r);else for(var o=e.length,s=m(e,o),d=0;d<o;++d)s[d].call(n,l,a,r)}function d(e,t,n,l){if(t)e.apply(n,l);else for(var a=e.length,r=m(e,a),o=0;o<a;++o)r[o].apply(n,l)}function p(e,t,n,l){var a,r,o;if("function"!=typeof n)throw new TypeError("\"listener\" argument must be a function");if(r=e._events,r?(r.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),o=r[t]):(r=e._events=x(null),e._eventsCount=0),!o)o=r[t]=n,++e._eventsCount;else if("function"==typeof o?o=r[t]=l?[n,o]:[o,n]:l?o.unshift(n):o.push(n),!o.warned&&(a=i(e),a&&0<a&&o.length>a)){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" \""+(t+"\" listeners added. Use emitter.setMaxListeners() to increase limit."));s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",s.name,s.message)}return e}function c(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e);}}function g(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},l=v.call(c,i);return l.listener=n,i.wrapFn=l,l}function u(e,t,n){var i=e._events;if(!i)return[];var l=i[t];return l?"function"==typeof l?n?[l.listener||l]:[l]:n?f(l):m(l,l.length):[]}function h(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function y(e,t){for(var l=t,a=l+1,r=e.length;a<r;l+=1,a+=1)e[l]=e[a];e.pop()}function m(e,t){for(var n=Array(t),l=0;l<t;++l)n[l]=e[l];return n}function f(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}var x=Object.create||function(e){var t=function(){};return t.prototype=e,new t},_=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},v=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0;var b=10,C;try{var k={};Object.defineProperty&&Object.defineProperty(k,"x",{value:0}),C=0===k.x}catch(e){C=!1}C?Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(e){if("number"!=typeof e||0>e||e!==e)throw new TypeError("\"defaultMaxListeners\" must be a positive number");b=e}}):n.defaultMaxListeners=b,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||isNaN(e))throw new TypeError("\"n\" argument must be a positive number");return this._maxListeners=e,this},n.prototype.getMaxListeners=function(){return i(this)},n.prototype.emit=function(e){var t="error"===e,n,o,p,c,g,u;if(u=this._events,u)t=t&&null==u.error;else if(!t)return!1;if(t){if(1<arguments.length&&(n=arguments[1]),n instanceof Error)throw n;else{var h=new Error("Unhandled \"error\" event. ("+n+")");throw h.context=n,h}return!1}if(o=u[e],!o)return!1;var y="function"==typeof o;switch(p=arguments.length,p){case 1:l(o,y,this);break;case 2:a(o,y,this,arguments[1]);break;case 3:r(o,y,this,arguments[1],arguments[2]);break;case 4:s(o,y,this,arguments[1],arguments[2],arguments[3]);break;default:for(c=Array(p-1),g=1;g<p;g++)c[g-1]=arguments[g];d(o,y,this,c);}return!0},n.prototype.addListener=function(e,t){return p(this,e,t,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(e,t){return p(this,e,t,!0)},n.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");return this.on(e,g(this,e,t)),this},n.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");return this.prependListener(e,g(this,e,t)),this},n.prototype.removeListener=function(e,t){var n,l,a,r,o;if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");if(l=this._events,!l)return this;if(n=l[e],!n)return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=x(null):(delete l[e],l.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,r=n.length-1;0<=r;r--)if(n[r]===t||n[r].listener===t){o=n[r].listener,a=r;break}if(0>a)return this;0===a?n.shift():y(n,a),1===n.length&&(l[e]=n[0]),l.removeListener&&this.emit("removeListener",e,o||t)}return this},n.prototype.removeAllListeners=function(e){var t,n,l;if(n=this._events,!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=x(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=x(null):delete n[e]),this;if(0===arguments.length){var a=_(n),r;for(l=0;l<a.length;++l)r=a[l],"removeListener"===r||this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=x(null),this._eventsCount=0,this}if(t=n[e],"function"==typeof t)this.removeListener(e,t);else if(t)for(l=t.length-1;0<=l;l--)this.removeListener(e,t[l]);return this},n.prototype.listeners=function(e){return u(this,e,!0)},n.prototype.rawListeners=function(e){return u(this,e,!1)},n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},n.prototype.listenerCount=h,n.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],5:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],6:[function(t,n){function i(e){if(e+="",!(100<e.length)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();return"years"===n||"year"===n||"yrs"===n||"yr"===n||"y"===n?31557600000*i:"weeks"===n||"week"===n||"w"===n?604800000*i:"days"===n||"day"===n||"d"===n?86400000*i:"hours"===n||"hour"===n||"hrs"===n||"hr"===n||"h"===n?3600000*i:"minutes"===n||"minute"===n||"mins"===n||"min"===n||"m"===n?60000*i:"seconds"===n||"second"===n||"secs"===n||"sec"===n||"s"===n?1000*i:"milliseconds"===n||"millisecond"===n||"msecs"===n||"msec"===n||"ms"===n?i:void 0}}}function l(t){var n=e(t);return 86400000<=n?s(t/86400000)+"d":3600000<=n?s(t/3600000)+"h":60000<=n?s(t/60000)+"m":1000<=n?s(t/1000)+"s":t+"ms"}function a(t){var n=e(t);return 86400000<=n?r(t,n,86400000,"day"):3600000<=n?r(t,n,3600000,"hour"):60000<=n?r(t,n,60000,"minute"):1000<=n?r(t,n,1000,"second"):t+" ms"}function r(e,t,i,n){return s(e/i)+" "+n+(t>=1.5*i?"s":"")}var o=24*(60*60000);n.exports=function(e,t){t=t||{};var n=typeof e;if("string"==n&&0<e.length)return i(e);if("number"==n&&isFinite(e))return t.long?a(e):l(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],7:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function l(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(n){try{return c.call(null,t,0)}catch(n){return c.call(this,t,0)}}}function a(t){if(g===clearTimeout)return clearTimeout(t);if((g===i||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(t);try{return g(t)}catch(n){try{return g.call(null,t)}catch(n){return g.call(this,t)}}}function r(){h&&m&&(h=!1,m.length?u=m.concat(u):y=-1,u.length&&o())}function o(){if(!h){var e=l(r);h=!0;for(var t=u.length;t;){for(m=u,u=[];++y<t;)m&&m[y].run();y=-1,t=u.length}m=null,h=!1,a(e)}}function s(e,t){this.fun=e,this.array=t}function d(){}var p=t.exports={},c,g;(function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{g="function"==typeof clearTimeout?clearTimeout:i}catch(t){g=i}})();var u=[],h=!1,y=-1,m;p.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new s(e,t)),1!==u.length||h||l(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=d,p.addListener=d,p.once=d,p.off=d,p.removeListener=d,p.removeAllListeners=d,p.emit=d,p.prependListener=d,p.prependOnceListener=d,p.listeners=function(){return[]},p.binding=function(){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],8:[function(e,t){t.exports=function(e,t){function n(){o=0,i=+new Date,r=e.apply(l,a),l=null,a=null}var i=0,l,a,r,o;return function(){l=this,a=arguments;var e=new Date-i;return o||(e>=t?n():o=setTimeout(n,t-e)),r}}},{}],9:[function(e,n){function i(e){var t=this;return t instanceof i?void(r.call(t),"string"==typeof e&&(e=document.querySelector(e)),t._root=e,t._model={nodes:[],links:[],focused:null},t._model.links.forEach(function(e){var n=t._model.nodes[e.source],i=t._model.nodes[e.target];n.children=n.children||[],n.children.push(e.target),i.parents=i.parents||[],i.parents.push(e.source)}),t._svg=l.select(t._root).append("svg"),t._resize(),t._force=l.layout.force().size([t._width,t._height]).nodes(t._model.nodes).links(t._model.links).on("tick",function(){t._link.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),t._node.attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}),t._node.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})}),t._node=t._svg.selectAll(".node"),t._link=t._svg.selectAll(".link"),t._update(),t._resizeThrottled=d(function(){t._resize()},500),window.addEventListener("resize",t._resizeThrottled)):new i(e)}n.exports=i;var l=e("d3"),a=e("debug")("p2p-graph"),r=e("events"),s=e("inherits"),d=e("throttleit"),p={links:{width:.7,maxWidth:5,maxBytes:2097152}},c={links:{color:"#C8C8C8"},text:{subtitle:"#C8C8C8"},nodes:{method:function(e){return e.me?l.hsl(210,.7,.725):e.seeder?l.hsl(120,.7,.725):l.hsl(55,.7,.725)},hover:"#A9A9A9",dep:"#252929"}};s(i,r),i.prototype.list=function(){var e=this;return a("list"),e._model.nodes},i.prototype.add=function(e){var t=this;if(a("add %s %o",e.id,e),t._getNode(e.id))throw new Error("add: cannot add duplicate node");t._model.nodes.push(e),t._update()},i.prototype.remove=function(e){var t=this;a("remove %s",e);var n=t._getNodeIndex(e);if(-1===n)throw new Error("remove: node does not exist");t._model.focused&&t._model.focused.id===e&&(t._model.focused=null,t.emit("select",!1)),t._model.nodes.splice(n,1),t._update()},i.prototype.connect=function(e,t){var n=this;a("connect %s %s",e,t);var i=n._getNode(e);if(!i)throw new Error("connect: invalid source id");var l=n._getNode(t);if(!l)throw new Error("connect: invalid target id");if(n.getLink(i.index,l.index))throw new Error("connect: cannot make duplicate connection");n._model.links.push({source:i.index,target:l.index}),n._update()},i.prototype.disconnect=function(e,t){var n=this;a("disconnect %s %s",e,t);var i=n._getNode(e);if(!i)throw new Error("disconnect: invalid source id");var l=n._getNode(t);if(!l)throw new Error("disconnect: invalid target id");var r=n.getLinkIndex(i.index,l.index);if(-1===r)throw new Error("disconnect: connection does not exist");n._model.links.splice(r,1),n._update()},i.prototype.hasPeer=function(){var e=this,t=Array.prototype.slice.call(arguments,0);return a("Checking for peers:",t),t.every(function(t){return e._getNode(t)})},i.prototype.hasLink=function(e,t){var n=this,i=n._getNode(e);if(!i)throw new Error("hasLink: invalid source id");var l=n._getNode(t);if(!l)throw new Error("hasLink: invalid target id");return!!n.getLink(i.index,l.index)},i.prototype.areConnected=function(e,t){var n=this,i=n._getNode(e);if(!i)throw new Error("areConnected: invalid source id");var l=n._getNode(t);if(!l)throw new Error("areConnected: invalid target id");return n.getLink(i.index,l.index)||n.getLink(l.index,i.index)},i.prototype.unchoke=function(e,t){a("unchoke %s %s",e,t)},i.prototype.choke=function(e,t){a("choke %s %s",e,t)},i.prototype.seed=function(e,t){var n=this;if(a(e,"isSeeding:",t),"boolean"!=typeof t)throw new Error("seed: 2nd param must be a boolean");var i=n._getNodeIndex(e);if(-1===i)throw new Error("seed: node does not exist");n._model.nodes[i].seeder=t,n._update()},i.prototype.rate=function(e,n,i){var l=this;if(a("rate update:",e+"<->"+n,"at",i),"number"!=typeof i||0>i)throw new Error("rate: 3th param must be a positive number");var r=l._getNode(e);if(!r)throw new Error("rate: invalid source id");var o=l._getNode(n);if(!o)throw new Error("rate: invalid target id");var s=l.getLinkIndex(r.index,o.index);if(-1===s)throw new Error("rate: connection does not exist");l._model.links[s].rate=function(e){return t(e,p.links.maxBytes)*p.links.maxWidth/p.links.maxBytes}(i),a("rate:",l._model.links[s].rate),l._update()},i.prototype.getLink=function(e,t){for(var n=this,l=0,a=n._model.links.length,r;l<a;l+=1)if(r=n._model.links[l],r.source===n._model.nodes[e]&&r.target===n._model.nodes[t])return r;return null},i.prototype.destroy=function(){var e=this;a("destroy"),e._root.remove(),window.removeEventListener("resize",e._resizeThrottled),e._root=null,e._resizeThrottled=null},i.prototype._update=function(){var e=this;e._link=e._link.data(e._model.links),e._node=e._node.data(e._model.nodes,function(e){return e.id}),e._link.enter().insert("line",".node").attr("class","link").style("stroke",c.links.color).style("opacity",.5),e._link.exit().remove(),e._link.style("stroke-width",function(e){return e.rate?e.rate<p.links.width?p.links.width:e.rate:p.links.width});var t=e._node.enter().append("g").attr("class","node");t.call(e._force.drag),t.append("circle").on("mouseover",function(t){l.select(this).style("fill",c.nodes.hover),l.selectAll(e._childNodes(t)).style("fill",c.nodes.hover).style("stroke",c.nodes.method).style("stroke-width",2),l.selectAll(e._parentNodes(t)).style("fill",c.nodes.dep).style("stroke",c.nodes.method).style("stroke-width",2)}).on("mouseout",function(t){l.select(this).style("fill",c.nodes.method),l.selectAll(e._childNodes(t)).style("fill",c.nodes.method).style("stroke",null),l.selectAll(e._parentNodes(t)).style("fill",c.nodes.method).style("stroke",null)}).on("click",function(t){return e._model.focused===t?(e._force.charge(-200*e._scale()).linkDistance(100*e._scale()).linkStrength(1).start(),e._node.style("opacity",1),e._link.style("opacity",.3),e._model.focused=null,void e.emit("select",!1)):void(e._model.focused=t,e.emit("select",t.id),e._node.style("opacity",function(n){return n.active=e._connected(t,n),n.active?1:.2}),e._force.charge(function(t){return(t.active?-100:-5)*e._scale()}).linkDistance(function(t){return(t.source.active&&t.target.active?100:60)*e._scale()}).linkStrength(function(n){return(n.source===t||n.target===t?1:0)*e._scale()}).start(),e._link.style("opacity",function(e){return e.source.active&&e.target.active?1:.02}))}),e._node.select("circle").attr("r",function(t){return e._scale()*(t.me?15:10)}).style("fill",c.nodes.method),t.append("text").attr("class","text").text(function(e){return e.name}),e._node.select("text").attr("font-size",function(t){return t.me?16*e._scale():12*e._scale()}).attr("dx",0).attr("dy",function(t){return t.me?-22*e._scale():-15*e._scale()}),e._node.exit().remove(),e._force.linkDistance(100*e._scale()).charge(-200*e._scale()).start()},i.prototype._childNodes=function(e){var t=this;return e.children?e.children.map(function(e){return t._node[0][e]}).filter(function(e){return e}):[]},i.prototype._parentNodes=function(e){var t=this;return e.parents?e.parents.map(function(e){return t._node[0][e]}).filter(function(e){return e}):[]},i.prototype._connected=function(e,t){return t.id===e.id||e.children&&-1!==e.children.indexOf(t.id)||t.children&&-1!==t.children.indexOf(e.id)||t.parents&&-1!==t.parents.indexOf(e.id)||e.parents&&-1!==e.parents.indexOf(t.id)},i.prototype._getNode=function(e){for(var t=this,n=0,l=t._model.nodes.length,a;n<l;n+=1)if(a=t._model.nodes[n],a.id===e)return a;return null},i.prototype._scale=function(){var e=this,t=e._model.nodes.length;return 10>t?1:o(.2,1-(t-10)/100)},i.prototype._resize=function(){var e=this;e._width=e._root.offsetWidth,e._height=900<=window.innerWidth?400:250,e._svg.attr("width",e._width).attr("height",e._height),e._force&&e._force.size([e._width,e._height]).resume()},i.prototype._getNodeIndex=function(e){for(var t=this,n=0,l=t._model.nodes.length,a;n<l;n+=1)if(a=t._model.nodes[n],a.id===e)return n;return-1},i.prototype.getLinkIndex=function(e,t){for(var n=this,l=0,a=n._model.links.length,r;l<a;l+=1)if(r=n._model.links[l],r.source===n._model.nodes[e]&&r.target===n._model.nodes[t])return l;return-1}},{d3:1,debug:2,events:4,inherits:5,throttleit:8}]},{},[9])(9)});